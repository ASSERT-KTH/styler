{
    "project_name": "IQSS-dataverse",
    "error_id": "63",
    "information": {
        "errors": [
            {
                "line": "110",
                "column": "1",
                "severity": "error",
                "message": "File contains tab characters (this is the first instance).",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.FileTabCharacterCheck"
            }
        ]
    },
    "source_code": "                }\n                Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n\t\tIOUtils.closeQuietly(fileAsStream);\n                if (datasetWithNewThumbnail != null) {\n                    return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                } else {",
    "results": [
        {
            "tool": "styler",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler/63/UpdateDatasetThumbnailCommand.java\nindex 3f4b3c36b70..a5a48211612 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler/63/UpdateDatasetThumbnailCommand.java\n@@ -107,7 +107,7 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                     Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n                 }\n                 Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n-\t\tIOUtils.closeQuietly(fileAsStream);\n+        IOUtils.closeQuietly(fileAsStream);\n                 if (datasetWithNewThumbnail != null) {\n                     return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                 } else {\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/intellij/63/UpdateDatasetThumbnailCommand.java\nindex 3f4b3c36b70..b8d4494d534 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/intellij/63/UpdateDatasetThumbnailCommand.java\n@@ -24,107 +24,114 @@ import org.apache.commons.io.IOUtils;\n @RequiredPermissions(Permission.EditDataset)\n public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbnail> {\n \n-    private static final Logger logger = Logger.getLogger(UpdateDatasetThumbnailCommand.class.getCanonicalName());\n+  private static final Logger logger = Logger.getLogger(UpdateDatasetThumbnailCommand.class.getCanonicalName());\n \n-    private final Dataset dataset;\n-    private final UserIntent userIntent;\n-    /**\n-     * @todo make this a long rather than a Long.\n-     */\n-    private final Long dataFileIdSupplied;\n-    private final InputStream inputStream;\n+  private final Dataset dataset;\n+  private final UserIntent userIntent;\n+  /**\n+   * @todo make this a long rather than a Long.\n+   */\n+  private final Long dataFileIdSupplied;\n+  private final InputStream inputStream;\n \n-    public enum UserIntent {\n-        setDatasetFileAsThumbnail,\n-        setNonDatasetFileAsThumbnail,\n-        removeThumbnail\n-    };\n+  public enum UserIntent {\n+    setDatasetFileAsThumbnail,\n+    setNonDatasetFileAsThumbnail,\n+    removeThumbnail\n+  }\n \n-    public UpdateDatasetThumbnailCommand(DataverseRequest aRequest, Dataset theDataset, UserIntent theUserIntent, Long theDataFileIdSupplied, InputStream theInputStream) {\n-        super(aRequest, theDataset);\n-        dataset = theDataset;\n-        userIntent = theUserIntent;\n-        inputStream = theInputStream;\n-        this.dataFileIdSupplied = theDataFileIdSupplied;\n-    }\n+  ;\n \n-    @Override\n-    public DatasetThumbnail execute(CommandContext ctxt) throws CommandException {\n-        if (dataset == null) {\n-            String message = \"Can't update dataset thumbnail. Dataset is null.\";\n-            logger.info(message);\n-            throw new IllegalCommandException(message, this);\n-        }\n+  public UpdateDatasetThumbnailCommand(DataverseRequest aRequest, Dataset theDataset, UserIntent theUserIntent,\n+                                       Long theDataFileIdSupplied, InputStream theInputStream) {\n+    super(aRequest, theDataset);\n+    dataset = theDataset;\n+    userIntent = theUserIntent;\n+    inputStream = theInputStream;\n+    this.dataFileIdSupplied = theDataFileIdSupplied;\n+  }\n+\n+  @Override\n+  public DatasetThumbnail execute(CommandContext ctxt) throws CommandException {\n+    if (dataset == null) {\n+      String message = \"Can't update dataset thumbnail. Dataset is null.\";\n+      logger.info(message);\n+      throw new IllegalCommandException(message, this);\n+    }\n //        if (true) {\n //            throw new CommandException(\"Just testing what an error would look like in the GUI.\", this);\n //        }\n-        if (userIntent == null) {\n-            throw new IllegalCommandException(\"No changes to save.\", this);\n-        }\n-        switch (userIntent) {\n+    if (userIntent == null) {\n+      throw new IllegalCommandException(\"No changes to save.\", this);\n+    }\n+    switch (userIntent) {\n \n-            case setDatasetFileAsThumbnail:\n-                if (dataFileIdSupplied == null) {\n-                    throw new CommandException(\"A file was not selected to be the new dataset thumbnail.\", this);\n-                }\n-                DataFile datasetFileThumbnailToSwitchTo = ctxt.files().find(dataFileIdSupplied);\n-                if (datasetFileThumbnailToSwitchTo == null) {\n-                    throw new CommandException(\"Could not find file based on id supplied: \" + dataFileIdSupplied + \".\", this);\n-                }\n-                Dataset ds1 = ctxt.datasets().setDatasetFileAsThumbnail(dataset, datasetFileThumbnailToSwitchTo);\n-                DatasetThumbnail datasetThumbnail = ds1.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n-                if (datasetThumbnail != null) {\n-                    DataFile dataFile = datasetThumbnail.getDataFile();\n-                    if (dataFile != null) {\n-                        if (dataFile.getId().equals(dataFileIdSupplied)) {\n-                            return datasetThumbnail;\n-                        } else {\n-                            throw new CommandException(\"Dataset thumbnail is should be based on file id \" + dataFile.getId() + \" but instead it is \" + dataFileIdSupplied + \".\", this);\n-                        }\n-                    }\n-                } else {\n-                    throw new CommandException(\"Dataset thumbnail is unexpectedly absent.\", this);\n-                }\n+      case setDatasetFileAsThumbnail:\n+        if (dataFileIdSupplied == null) {\n+          throw new CommandException(\"A file was not selected to be the new dataset thumbnail.\", this);\n+        }\n+        DataFile datasetFileThumbnailToSwitchTo = ctxt.files().find(dataFileIdSupplied);\n+        if (datasetFileThumbnailToSwitchTo == null) {\n+          throw new CommandException(\"Could not find file based on id supplied: \" + dataFileIdSupplied + \".\", this);\n+        }\n+        Dataset ds1 = ctxt.datasets().setDatasetFileAsThumbnail(dataset, datasetFileThumbnailToSwitchTo);\n+        DatasetThumbnail datasetThumbnail = ds1.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n+        if (datasetThumbnail != null) {\n+          DataFile dataFile = datasetThumbnail.getDataFile();\n+          if (dataFile != null) {\n+            if (dataFile.getId().equals(dataFileIdSupplied)) {\n+              return datasetThumbnail;\n+            } else {\n+              throw new CommandException(\n+                \"Dataset thumbnail is should be based on file id \" + dataFile.getId() + \" but instead it is \" +\n+                  dataFileIdSupplied + \".\", this);\n+            }\n+          }\n+        } else {\n+          throw new CommandException(\"Dataset thumbnail is unexpectedly absent.\", this);\n+        }\n \n-            case setNonDatasetFileAsThumbnail:\n-                File uploadedFile;\n-                try {\n-                    uploadedFile = FileUtil.inputStreamToFile(inputStream);\n-                } catch (IOException ex) {\n-                    throw new CommandException(\"In setNonDatasetFileAsThumbnail caught exception calling inputStreamToFile: \" + ex, this);\n-                }\n-                if (uploadedFile == null) {\n-                    throw new CommandException(\"In setNonDatasetFileAsThumbnail uploadedFile was null.\", this);\n-                }\n-                long uploadLogoSizeLimit = ctxt.systemConfig().getUploadLogoSizeLimit();\n-                if (uploadedFile.length() > uploadLogoSizeLimit) {\n-                    throw new IllegalCommandException(\"File is larger than maximum size: \" + uploadLogoSizeLimit + \".\", this);\n-                }\n-                FileInputStream fileAsStream = null;\n-                try {\n-                    fileAsStream = new FileInputStream(uploadedFile);\n-                } catch (FileNotFoundException ex) {\n-                    Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n-                }\n-                Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n-\t\tIOUtils.closeQuietly(fileAsStream);\n-                if (datasetWithNewThumbnail != null) {\n-                    return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n-                } else {\n-                    return null;\n-                }\n+      case setNonDatasetFileAsThumbnail:\n+        File uploadedFile;\n+        try {\n+          uploadedFile = FileUtil.inputStreamToFile(inputStream);\n+        } catch (IOException ex) {\n+          throw new CommandException(\n+            \"In setNonDatasetFileAsThumbnail caught exception calling inputStreamToFile: \" + ex, this);\n+        }\n+        if (uploadedFile == null) {\n+          throw new CommandException(\"In setNonDatasetFileAsThumbnail uploadedFile was null.\", this);\n+        }\n+        long uploadLogoSizeLimit = ctxt.systemConfig().getUploadLogoSizeLimit();\n+        if (uploadedFile.length() > uploadLogoSizeLimit) {\n+          throw new IllegalCommandException(\"File is larger than maximum size: \" + uploadLogoSizeLimit + \".\", this);\n+        }\n+        FileInputStream fileAsStream = null;\n+        try {\n+          fileAsStream = new FileInputStream(uploadedFile);\n+        } catch (FileNotFoundException ex) {\n+          Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n+        }\n+        Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n+        IOUtils.closeQuietly(fileAsStream);\n+        if (datasetWithNewThumbnail != null) {\n+          return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n+        } else {\n+          return null;\n+        }\n \n-            case removeThumbnail:\n-                Dataset ds2 = ctxt.datasets().removeDatasetThumbnail(dataset);\n-                DatasetThumbnail datasetThumbnail2 = ds2.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n-                if (datasetThumbnail2 == null) {\n-                    return null;\n-                } else {\n-                    throw new CommandException(\"User wanted to remove the thumbnail it still has one!\", this);\n-                }\n-            default:\n-                throw new IllegalCommandException(\"Whatever you are trying to do to the dataset thumbnail is not supported.\", this);\n+      case removeThumbnail:\n+        Dataset ds2 = ctxt.datasets().removeDatasetThumbnail(dataset);\n+        DatasetThumbnail datasetThumbnail2 = ds2.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n+        if (datasetThumbnail2 == null) {\n+          return null;\n+        } else {\n+          throw new CommandException(\"User wanted to remove the thumbnail it still has one!\", this);\n         }\n+      default:\n+        throw new IllegalCommandException(\"Whatever you are trying to do to the dataset thumbnail is not supported.\",\n+          this);\n     }\n+  }\n \n }\n",
            "diff_size": 106
        },
        {
            "tool": "naturalize",
            "errors": null,
            "diff": null
        },
        {
            "tool": "codebuff",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/codebuff/63/UpdateDatasetThumbnailCommand.java\nindex 3f4b3c36b70..cfd358fd8a2 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/codebuff/63/UpdateDatasetThumbnailCommand.java\n@@ -21,11 +21,11 @@ import java.util.logging.Level;\n import java.util.logging.Logger;\n import org.apache.commons.io.IOUtils;\n \n+\n @RequiredPermissions(Permission.EditDataset)\n public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbnail> {\n \n     private static final Logger logger = Logger.getLogger(UpdateDatasetThumbnailCommand.class.getCanonicalName());\n-\n     private final Dataset dataset;\n     private final UserIntent userIntent;\n     /**\n@@ -35,9 +35,7 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n     private final InputStream inputStream;\n \n     public enum UserIntent {\n-        setDatasetFileAsThumbnail,\n-        setNonDatasetFileAsThumbnail,\n-        removeThumbnail\n+        setDatasetFileAsThumbnail, setNonDatasetFileAsThumbnail, removeThumbnail\n     };\n \n     public UpdateDatasetThumbnailCommand(DataverseRequest aRequest, Dataset theDataset, UserIntent theUserIntent, Long theDataFileIdSupplied, InputStream theInputStream) {\n@@ -58,19 +56,21 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n //        if (true) {\n //            throw new CommandException(\"Just testing what an error would look like in the GUI.\", this);\n //        }\n+\n         if (userIntent == null) {\n             throw new IllegalCommandException(\"No changes to save.\", this);\n         }\n         switch (userIntent) {\n-\n             case setDatasetFileAsThumbnail:\n                 if (dataFileIdSupplied == null) {\n                     throw new CommandException(\"A file was not selected to be the new dataset thumbnail.\", this);\n                 }\n+\n                 DataFile datasetFileThumbnailToSwitchTo = ctxt.files().find(dataFileIdSupplied);\n                 if (datasetFileThumbnailToSwitchTo == null) {\n                     throw new CommandException(\"Could not find file based on id supplied: \" + dataFileIdSupplied + \".\", this);\n                 }\n+\n                 Dataset ds1 = ctxt.datasets().setDatasetFileAsThumbnail(dataset, datasetFileThumbnailToSwitchTo);\n                 DatasetThumbnail datasetThumbnail = ds1.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                 if (datasetThumbnail != null) {\n@@ -79,13 +79,13 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                         if (dataFile.getId().equals(dataFileIdSupplied)) {\n                             return datasetThumbnail;\n                         } else {\n-                            throw new CommandException(\"Dataset thumbnail is should be based on file id \" + dataFile.getId() + \" but instead it is \" + dataFileIdSupplied + \".\", this);\n+                            throw new CommandException(\"Dataset thumbnail is should be based on file id \" + dataFile.getId() + \" but instead it is \" + dataFileIdSupplied + \".\",\n+                                this);\n                         }\n                     }\n                 } else {\n                     throw new CommandException(\"Dataset thumbnail is unexpectedly absent.\", this);\n                 }\n-\n             case setNonDatasetFileAsThumbnail:\n                 File uploadedFile;\n                 try {\n@@ -93,6 +93,7 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                 } catch (IOException ex) {\n                     throw new CommandException(\"In setNonDatasetFileAsThumbnail caught exception calling inputStreamToFile: \" + ex, this);\n                 }\n+\n                 if (uploadedFile == null) {\n                     throw new CommandException(\"In setNonDatasetFileAsThumbnail uploadedFile was null.\", this);\n                 }\n@@ -100,20 +101,21 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                 if (uploadedFile.length() > uploadLogoSizeLimit) {\n                     throw new IllegalCommandException(\"File is larger than maximum size: \" + uploadLogoSizeLimit + \".\", this);\n                 }\n+\n                 FileInputStream fileAsStream = null;\n                 try {\n                     fileAsStream = new FileInputStream(uploadedFile);\n                 } catch (FileNotFoundException ex) {\n                     Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n                 }\n+\n                 Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n-\t\tIOUtils.closeQuietly(fileAsStream);\n+                IOUtils.closeQuietly(fileAsStream);\n                 if (datasetWithNewThumbnail != null) {\n                     return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                 } else {\n                     return null;\n                 }\n-\n             case removeThumbnail:\n                 Dataset ds2 = ctxt.datasets().removeDatasetThumbnail(dataset);\n                 DatasetThumbnail datasetThumbnail2 = ds2.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n@@ -127,4 +129,4 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n         }\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 18
        },
        {
            "tool": "styler_random",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler_random/63/UpdateDatasetThumbnailCommand.java\nindex 3f4b3c36b70..a5a48211612 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler_random/63/UpdateDatasetThumbnailCommand.java\n@@ -107,7 +107,7 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                     Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n                 }\n                 Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n-\t\tIOUtils.closeQuietly(fileAsStream);\n+        IOUtils.closeQuietly(fileAsStream);\n                 if (datasetWithNewThumbnail != null) {\n                     return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                 } else {\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler_three_grams/63/UpdateDatasetThumbnailCommand.java\nindex 3f4b3c36b70..dfc7ef0afa8 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/errored/1/63/UpdateDatasetThumbnailCommand.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/IQSS-dataverse/styler_three_grams/63/UpdateDatasetThumbnailCommand.java\n@@ -107,7 +107,7 @@ public class UpdateDatasetThumbnailCommand extends AbstractCommand<DatasetThumbn\n                     Logger.getLogger(UpdateDatasetThumbnailCommand.class.getName()).log(Level.SEVERE, null, ex);\n                 }\n                 Dataset datasetWithNewThumbnail = ctxt.datasets().setNonDatasetFileAsThumbnail(dataset, fileAsStream);\n-\t\tIOUtils.closeQuietly(fileAsStream);\n+                IOUtils.closeQuietly(fileAsStream);\n                 if (datasetWithNewThumbnail != null) {\n                     return datasetWithNewThumbnail.getDatasetThumbnail(ImageThumbConverter.DEFAULT_CARDIMAGE_SIZE);\n                 } else {\n",
            "diff_size": 1
        }
    ],
    "repaired_by": [
        "styler",
        "intellij",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ],
    "not_repaired_by": [
        "naturalize"
    ]
}