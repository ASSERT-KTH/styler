{
    "project_name": "graphfoundation-ongdb",
    "error_id": "3151",
    "information": {
        "errors": [
            {
                "line": "1",
                "severity": "error",
                "message": "Missing, wrong or duplicated license header",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "/*\n * Copyright (c) 2002-2018 \"Neo Technology,\"\n * Network Engine for Objects in Lund AB [http://neotechnology.com]\n *",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "76",
                    "column": "24",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "77",
                    "column": "110",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "87",
                    "column": "40",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "87",
                    "column": "88",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "92",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "92",
                    "column": "29",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "102",
                    "column": "14",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "102",
                    "column": "24",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "29",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "69",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "117",
                    "column": "23",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "117",
                    "column": "39",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "122",
                    "column": "27",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "122",
                    "column": "43",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "127",
                    "column": "23",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "127",
                    "column": "51",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "135",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "135",
                    "column": "67",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "137",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "137",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "139",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "139",
                    "column": "61",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "142",
                    "column": "9",
                    "severity": "error",
                    "message": "'}' at column 9 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "160",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "160",
                    "column": "67",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "162",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "162",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "165",
                    "column": "7",
                    "severity": "error",
                    "message": "'}' at column 7 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "175",
                    "column": "66",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "175",
                    "column": "82",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "177",
                    "column": "28",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "177",
                    "column": "35",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "181",
                    "column": "70",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "181",
                    "column": "86",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "183",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "183",
                    "column": "91",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "202",
                    "column": "15",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "202",
                    "column": "31",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "204",
                    "column": "55",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "204",
                    "column": "103",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "218",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "218",
                    "column": "29",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "226",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "226",
                    "column": "67",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "228",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "228",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "231",
                    "column": "7",
                    "severity": "error",
                    "message": "'}' at column 7 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "238",
                    "column": "72",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "238",
                    "column": "112",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "242",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "242",
                    "column": "42",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "244",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "244",
                    "column": "48",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "246",
                    "column": "61",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "246",
                    "column": "95",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "252",
                    "column": "9",
                    "severity": "error",
                    "message": "'}' at column 9 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "261",
                    "column": "66",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "261",
                    "column": "84",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "263",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "263",
                    "column": "52",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "266",
                    "column": "7",
                    "severity": "error",
                    "message": "'}' at column 7 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3151/RaftMembershipChanger.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/3151/RaftMembershipChanger.java\nindex a38123062b1..dd1dad33c4e 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3151/RaftMembershipChanger.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/3151/RaftMembershipChanger.java\n@@ -17,6 +17,7 @@\n  * You should have received a copy of the GNU Affero General Public License\n  * along with this program. If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n package org.neo4j.causalclustering.core.consensus.membership;\n \n import java.time.Clock;\n@@ -35,7 +36,7 @@ import static java.lang.String.format;\n /**\n  * This class carries the core raft membership change state machine, which defines the\n  * legal state transitions when adding or removing members from the raft voting group.\n- *\n+ * <p>\n  * The state machine has these 4 states:\n  *\n  * <pre>\n@@ -45,266 +46,261 @@ import static java.lang.String.format;\n  *   CATCHUP IN PROGRESS,        member catching up\n  *   CONSENSUS IN PROGRESS       caught up member being added to voting group\n  * </pre>\n- *\n+ * <p>\n  * The normal progression when adding a member is:\n  * <pre>\n  *   IDLE->CATCHUP->CONSENSUS->IDLE\n  * </pre>\n- *\n+ * <p>\n  * the normal progression when removing a member is:\n  * <pre>\n  *   IDLE->CONSENSUS->IDLE\n  * </pre>\n- *\n+ * <p>\n  * Only a single member change is handled at a time.\n  */\n class RaftMembershipChanger\n {\n-    private final Log log;\n-    public RaftMembershipStateMachineEventHandler state = new Inactive();\n-\n-    private final ReadableRaftLog raftLog;\n-    private final Clock clock;\n-    private final long electionTimeout;\n-\n-    private final RaftMembershipManager membershipManager;\n-    private long catchupTimeout;\n-\n-    private MemberId catchingUpMember;\n-\n-    RaftMembershipChanger( ReadableRaftLog raftLog, Clock clock, long electionTimeout,\n-            LogProvider logProvider, long catchupTimeout, RaftMembershipManager membershipManager )\n+  private final Log log;\n+  public RaftMembershipStateMachineEventHandler state = new Inactive();\n+\n+  private final ReadableRaftLog raftLog;\n+  private final Clock clock;\n+  private final long electionTimeout;\n+\n+  private final RaftMembershipManager membershipManager;\n+  private long catchupTimeout;\n+\n+  private MemberId catchingUpMember;\n+\n+  RaftMembershipChanger(ReadableRaftLog raftLog, Clock clock, long electionTimeout,\n+                        LogProvider logProvider, long catchupTimeout, RaftMembershipManager membershipManager)\n+  {\n+    this.raftLog = raftLog;\n+    this.clock = clock;\n+    this.electionTimeout = electionTimeout;\n+    this.catchupTimeout = catchupTimeout;\n+    this.membershipManager = membershipManager;\n+    this.log = logProvider.getLog(getClass());\n+  }\n+\n+  private synchronized void handleState(RaftMembershipStateMachineEventHandler newState)\n+  {\n+    RaftMembershipStateMachineEventHandler oldState = state;\n+    this.state = newState;\n+\n+    if (oldState != newState)\n     {\n-        this.raftLog = raftLog;\n-        this.clock = clock;\n-        this.electionTimeout = electionTimeout;\n-        this.catchupTimeout = catchupTimeout;\n-        this.membershipManager = membershipManager;\n-        this.log = logProvider.getLog( getClass() );\n-    }\n+      oldState.onExit();\n+      newState.onEntry();\n \n-    private synchronized void handleState( RaftMembershipStateMachineEventHandler newState )\n+      log.info(newState.toString());\n+      membershipManager.stateChanged();\n+    }\n+  }\n+\n+  void onRole(Role role)\n+  {\n+    handleState(state.onRole(role));\n+  }\n+\n+  void onRaftGroupCommitted()\n+  {\n+    handleState(state.onRaftGroupCommitted());\n+  }\n+\n+  void onFollowerStateChange(FollowerStates<MemberId> followerStates)\n+  {\n+    handleState(state.onFollowerStateChange(followerStates));\n+  }\n+\n+  void onMissingMember(MemberId member)\n+  {\n+    handleState(state.onMissingMember(member));\n+  }\n+\n+  void onSuperfluousMember(MemberId member)\n+  {\n+    handleState(state.onSuperfluousMember(member));\n+  }\n+\n+  void onTargetChanged(Set<MemberId> targetMembers)\n+  {\n+    handleState(state.onTargetChanged(targetMembers));\n+  }\n+\n+  private class Inactive extends RaftMembershipStateMachineEventHandler.Adapter\n+  {\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onRole(Role role)\n     {\n-        RaftMembershipStateMachineEventHandler oldState = state;\n-        this.state = newState;\n-\n-        if ( oldState != newState )\n+      if (role == Role.LEADER)\n+      {\n+        if (membershipManager.uncommittedMemberChangeInLog())\n         {\n-            oldState.onExit();\n-            newState.onEntry();\n-\n-            log.info( newState.toString() );\n-            membershipManager.stateChanged();\n+          return new ConsensusInProgress();\n+        } else\n+        {\n+          return new Idle();\n         }\n+      }\n+      return this;\n     }\n \n-    void onRole( Role role )\n+    @Override\n+    public String toString()\n     {\n-        handleState( state.onRole( role ) );\n+      return \"Inactive{}\";\n     }\n+  }\n \n-    void onRaftGroupCommitted()\n+  abstract class ActiveBaseState extends RaftMembershipStateMachineEventHandler.Adapter\n+  {\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onRole(Role role)\n     {\n-        handleState( state.onRaftGroupCommitted() );\n+      if (role != Role.LEADER)\n+      {\n+        return new Inactive();\n+      } else\n+      {\n+        return this;\n+      }\n     }\n+  }\n \n-    void onFollowerStateChange( FollowerStates<MemberId> followerStates )\n+  private class Idle extends ActiveBaseState\n+  {\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onMissingMember(MemberId member)\n     {\n-        handleState( state.onFollowerStateChange( followerStates ) );\n+      return new CatchingUp(member);\n     }\n \n-    void onMissingMember( MemberId member )\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onSuperfluousMember(MemberId member)\n     {\n-        handleState( state.onMissingMember( member ) );\n+      Set<MemberId> updatedVotingMembers = new HashSet<>(membershipManager.votingMembers());\n+      updatedVotingMembers.remove(member);\n+      membershipManager.doConsensus(updatedVotingMembers);\n+\n+      return new ConsensusInProgress();\n     }\n \n-    void onSuperfluousMember( MemberId member )\n+    @Override\n+    public String toString()\n     {\n-        handleState( state.onSuperfluousMember( member ) );\n+      return \"Idle{}\";\n     }\n+  }\n+\n+  private class CatchingUp extends ActiveBaseState\n+  {\n+    private final CatchupGoalTracker catchupGoalTracker;\n+    boolean movingToConsensus;\n \n-    void onTargetChanged( Set<MemberId> targetMembers )\n+    CatchingUp(MemberId member)\n     {\n-        handleState( state.onTargetChanged( targetMembers ) );\n+      this.catchupGoalTracker = new CatchupGoalTracker(raftLog, clock, electionTimeout, catchupTimeout);\n+      catchingUpMember = member;\n     }\n \n-    private class Inactive extends RaftMembershipStateMachineEventHandler.Adapter\n+    @Override\n+    public void onEntry()\n     {\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onRole( Role role )\n-        {\n-            if ( role == Role.LEADER )\n-            {\n-                if ( membershipManager.uncommittedMemberChangeInLog() )\n-                {\n-                    return new ConsensusInProgress();\n-                }\n-                else\n-                {\n-                    return new Idle();\n-                }\n-            }\n-            return this;\n-        }\n-\n-        @Override\n-        public String toString()\n-        {\n-            return \"Inactive{}\";\n-        }\n+      membershipManager.addAdditionalReplicationMember(catchingUpMember);\n+      log.info(\"Adding replication member: \" + catchingUpMember);\n     }\n \n-    abstract class ActiveBaseState extends RaftMembershipStateMachineEventHandler.Adapter\n+    @Override\n+    public void onExit()\n     {\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onRole( Role role )\n-        {\n-            if ( role != Role.LEADER )\n-            {\n-                return new Inactive();\n-            }\n-            else\n-            {\n-                return this;\n-            }\n-        }\n+      if (!movingToConsensus)\n+      {\n+        membershipManager.removeAdditionalReplicationMember(catchingUpMember);\n+        log.info(\"Removing replication member: \" + catchingUpMember);\n+      }\n     }\n \n-    private class Idle extends ActiveBaseState\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onRole(Role role)\n     {\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onMissingMember( MemberId member )\n-        {\n-            return new CatchingUp( member );\n-        }\n-\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onSuperfluousMember( MemberId member )\n-        {\n-            Set<MemberId> updatedVotingMembers = new HashSet<>( membershipManager.votingMembers() );\n-            updatedVotingMembers.remove( member );\n-            membershipManager.doConsensus( updatedVotingMembers );\n-\n-            return new ConsensusInProgress();\n-        }\n-\n-        @Override\n-        public String toString()\n-        {\n-            return \"Idle{}\";\n-        }\n+      if (role != Role.LEADER)\n+      {\n+        return new Inactive();\n+      } else\n+      {\n+        return this;\n+      }\n     }\n \n-    private class CatchingUp extends ActiveBaseState\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onFollowerStateChange(FollowerStates<MemberId> followerStates)\n     {\n-        private final CatchupGoalTracker catchupGoalTracker;\n-        boolean movingToConsensus;\n+      catchupGoalTracker.updateProgress(followerStates.get(catchingUpMember));\n \n-        CatchingUp( MemberId member )\n+      if (catchupGoalTracker.isFinished())\n+      {\n+        if (catchupGoalTracker.isGoalAchieved())\n         {\n-            this.catchupGoalTracker = new CatchupGoalTracker( raftLog, clock, electionTimeout, catchupTimeout );\n-            catchingUpMember = member;\n-        }\n-\n-        @Override\n-        public void onEntry()\n-        {\n-            membershipManager.addAdditionalReplicationMember( catchingUpMember );\n-            log.info( \"Adding replication member: \" + catchingUpMember );\n-        }\n-\n-        @Override\n-        public void onExit()\n-        {\n-            if ( !movingToConsensus )\n-            {\n-                membershipManager.removeAdditionalReplicationMember( catchingUpMember );\n-                log.info( \"Removing replication member: \" + catchingUpMember );\n-            }\n-        }\n-\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onRole( Role role )\n-        {\n-            if ( role != Role.LEADER )\n-            {\n-                return new Inactive();\n-            }\n-            else\n-            {\n-                return this;\n-            }\n-        }\n+          Set<MemberId> updatedVotingMembers = new HashSet<>(membershipManager.votingMembers());\n+          updatedVotingMembers.add(catchingUpMember);\n+          membershipManager.doConsensus(updatedVotingMembers);\n \n-        @Override\n-        public RaftMembershipStateMachineEventHandler onFollowerStateChange( FollowerStates<MemberId> followerStates )\n+          movingToConsensus = true;\n+          return new ConsensusInProgress();\n+        } else\n         {\n-            catchupGoalTracker.updateProgress( followerStates.get( catchingUpMember ) );\n-\n-            if ( catchupGoalTracker.isFinished() )\n-            {\n-                if ( catchupGoalTracker.isGoalAchieved() )\n-                {\n-                    Set<MemberId> updatedVotingMembers = new HashSet<>( membershipManager.votingMembers() );\n-                    updatedVotingMembers.add( catchingUpMember );\n-                    membershipManager.doConsensus( updatedVotingMembers );\n-\n-                    movingToConsensus = true;\n-                    return new ConsensusInProgress();\n-                }\n-                else\n-                {\n-                    return new Idle();\n-                }\n-            }\n-            return this;\n+          return new Idle();\n         }\n+      }\n+      return this;\n+    }\n \n-        @Override\n-        public RaftMembershipStateMachineEventHandler onTargetChanged( Set targetMembers )\n-        {\n-            if ( !targetMembers.contains( catchingUpMember ) )\n-            {\n-                return new Idle();\n-            }\n-            else\n-            {\n-                return this;\n-            }\n-        }\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onTargetChanged(Set targetMembers)\n+    {\n+      if (!targetMembers.contains(catchingUpMember))\n+      {\n+        return new Idle();\n+      } else\n+      {\n+        return this;\n+      }\n+    }\n \n-        @Override\n-        public String toString()\n-        {\n-            return format( \"CatchingUp{catchupGoalTracker=%s, catchingUpMember=%s}\", catchupGoalTracker,\n-                    catchingUpMember );\n-        }\n+    @Override\n+    public String toString()\n+    {\n+      return format(\"CatchingUp{catchupGoalTracker=%s, catchingUpMember=%s}\", catchupGoalTracker,\n+          catchingUpMember);\n     }\n+  }\n \n-    private class ConsensusInProgress extends ActiveBaseState\n+  private class ConsensusInProgress extends ActiveBaseState\n+  {\n+    @Override\n+    public RaftMembershipStateMachineEventHandler onRaftGroupCommitted()\n     {\n-        @Override\n-        public RaftMembershipStateMachineEventHandler onRaftGroupCommitted()\n-        {\n-            return new Idle();\n-        }\n+      return new Idle();\n+    }\n \n-        @Override\n-        public void onEntry()\n-        {\n-        }\n+    @Override\n+    public void onEntry()\n+    {\n+    }\n \n-        @Override\n-        public void onExit()\n-        {\n-            membershipManager.removeAdditionalReplicationMember( catchingUpMember );\n-            log.info( \"Removing replication member: \" + catchingUpMember );\n-        }\n+    @Override\n+    public void onExit()\n+    {\n+      membershipManager.removeAdditionalReplicationMember(catchingUpMember);\n+      log.info(\"Removing replication member: \" + catchingUpMember);\n+    }\n \n-        @Override\n-        public String toString()\n-        {\n-            return \"ConsensusInProgress{}\";\n-        }\n+    @Override\n+    public String toString()\n+    {\n+      return \"ConsensusInProgress{}\";\n     }\n+  }\n }\n",
            "diff_size": 301
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3151/RaftMembershipChanger.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/3151/RaftMembershipChanger.java\nindex a38123062b1..e4247324068 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3151/RaftMembershipChanger.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/3151/RaftMembershipChanger.java\n@@ -92,8 +92,7 @@ class RaftMembershipChanger\n         {\n             oldState.onExit();\n             newState.onEntry();\n-\n-            log.info( newState.toString() );\n+log.info( newState.toString() );\n             membershipManager.stateChanged();\n         }\n     }\n@@ -184,8 +183,7 @@ class RaftMembershipChanger\n             Set<MemberId> updatedVotingMembers = new HashSet<>( membershipManager.votingMembers() );\n             updatedVotingMembers.remove( member );\n             membershipManager.doConsensus( updatedVotingMembers );\n-\n-            return new ConsensusInProgress();\n+return new ConsensusInProgress();\n         }\n \n         @Override\n@@ -240,16 +238,14 @@ class RaftMembershipChanger\n         public RaftMembershipStateMachineEventHandler onFollowerStateChange( FollowerStates<MemberId> followerStates )\n         {\n             catchupGoalTracker.updateProgress( followerStates.get( catchingUpMember ) );\n-\n-            if ( catchupGoalTracker.isFinished() )\n+if ( catchupGoalTracker.isFinished() )\n             {\n                 if ( catchupGoalTracker.isGoalAchieved() )\n                 {\n                     Set<MemberId> updatedVotingMembers = new HashSet<>( membershipManager.votingMembers() );\n                     updatedVotingMembers.add( catchingUpMember );\n                     membershipManager.doConsensus( updatedVotingMembers );\n-\n-                    movingToConsensus = true;\n+movingToConsensus = true;\n                     return new ConsensusInProgress();\n                 }\n                 else\n@@ -278,7 +274,7 @@ class RaftMembershipChanger\n         {\n             return format( \"CatchingUp{catchupGoalTracker=%s, catchingUpMember=%s}\", catchupGoalTracker,\n                     catchingUpMember );\n-        }\n+    }\n     }\n \n     private class ConsensusInProgress extends ActiveBaseState\n@@ -307,4 +303,4 @@ class RaftMembershipChanger\n             return \"ConsensusInProgress{}\";\n         }\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 10
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}