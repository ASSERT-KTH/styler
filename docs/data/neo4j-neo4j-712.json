{
    "project_name": "neo4j-neo4j",
    "error_id": "712",
    "information": {
        "errors": [
            {
                "line": "1",
                "severity": "error",
                "message": "Missing, wrong or duplicated license header",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "/*\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "149",
                    "column": "30",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "161",
                    "column": "127",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "177",
                    "column": "61",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "177",
                    "column": "92",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "190",
                    "column": "66",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "190",
                    "column": "91",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "191",
                    "column": "60",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "191",
                    "column": "85",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "192",
                    "column": "58",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "192",
                    "column": "105",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "195",
                    "column": "66",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "195",
                    "column": "80",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "199",
                    "column": "41",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "199",
                    "column": "143",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "205",
                    "column": "19",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "205",
                    "column": "80",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "218",
                    "column": "13",
                    "severity": "error",
                    "message": "'}' at column 13 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "222",
                    "column": "9",
                    "severity": "error",
                    "message": "'}' at column 9 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "222",
                    "column": "17",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "222",
                    "column": "41",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "225",
                    "column": "50",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "225",
                    "column": "87",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "312",
                    "column": "46",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "312",
                    "column": "67",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "342",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "342",
                    "column": "69",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "344",
                    "column": "44",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "344",
                    "column": "96",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "362",
                    "column": "41",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "362",
                    "column": "76",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "364",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "364",
                    "column": "67",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "369",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "369",
                    "column": "51",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "373",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "373",
                    "column": "20",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "375",
                    "column": "44",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "375",
                    "column": "101",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "381",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "381",
                    "column": "63",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "384",
                    "column": "99",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "393",
                    "column": "47",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "393",
                    "column": "122",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "403",
                    "column": "50",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "409",
                    "column": "116",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "419",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "420",
                    "column": "85",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "422",
                    "column": "18",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "422",
                    "column": "29",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "427",
                    "column": "31",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "427",
                    "column": "66",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "440",
                    "column": "35",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "440",
                    "column": "141",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "442",
                    "column": "18",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "442",
                    "column": "31",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "446",
                    "column": "15",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "446",
                    "column": "34",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "457",
                    "column": "28",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "457",
                    "column": "64",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "470",
                    "column": "20",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "470",
                    "column": "98",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "475",
                    "column": "19",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "475",
                    "column": "114",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/neo4j-neo4j/errored/1/712/KernelTransactions.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/neo4j-neo4j/intellij/712/KernelTransactions.java\nindex fb17ce4ed5b..bf488448c8c 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/neo4j-neo4j/errored/1/712/KernelTransactions.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/neo4j-neo4j/intellij/712/KernelTransactions.java\n@@ -17,6 +17,7 @@\n  * You should have received a copy of the GNU General Public License\n  * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n package org.neo4j.kernel.impl.api;\n \n import java.util.Set;\n@@ -145,16 +146,19 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n      */\n     private volatile boolean stopped = true;\n \n-    public KernelTransactions( Config config, StatementLocksFactory statementLocksFactory, ConstraintIndexCreator constraintIndexCreator,\n-            TransactionCommitProcess transactionCommitProcess,\n-            DatabaseTransactionEventListeners eventListeners, TransactionMonitor transactionMonitor, AvailabilityGuard databaseAvailabilityGuard,\n-            StorageEngine storageEngine, GlobalProcedures globalProcedures, TransactionIdStore transactionIdStore, SystemNanoClock clock,\n-            AtomicReference<CpuClock> cpuClockRef, AccessCapability accessCapability,\n-            VersionContextSupplier versionContextSupplier, CollectionsFactorySupplier collectionsFactorySupplier, ConstraintSemantics constraintSemantics,\n-            SchemaState schemaState, TokenHolders tokenHolders, NamedDatabaseId namedDatabaseId, IndexingService indexingService, LabelScanStore labelScanStore,\n-            RelationshipTypeScanStore relationshipTypeScanStore, IndexStatisticsStore indexStatisticsStore,\n-            Dependencies databaseDependencies, DatabaseTracers tracers, LeaseService leaseService,\n-            GlobalMemoryGroupTracker transactionsMemoryPool, ReadOnlyDatabaseChecker readOnlyDatabaseChecker )\n+    public KernelTransactions(Config config, StatementLocksFactory statementLocksFactory, ConstraintIndexCreator constraintIndexCreator,\n+                              TransactionCommitProcess transactionCommitProcess,\n+                              DatabaseTransactionEventListeners eventListeners, TransactionMonitor transactionMonitor,\n+                              AvailabilityGuard databaseAvailabilityGuard,\n+                              StorageEngine storageEngine, GlobalProcedures globalProcedures, TransactionIdStore transactionIdStore, SystemNanoClock clock,\n+                              AtomicReference<CpuClock> cpuClockRef, AccessCapability accessCapability,\n+                              VersionContextSupplier versionContextSupplier, CollectionsFactorySupplier collectionsFactorySupplier,\n+                              ConstraintSemantics constraintSemantics,\n+                              SchemaState schemaState, TokenHolders tokenHolders, NamedDatabaseId namedDatabaseId, IndexingService indexingService,\n+                              LabelScanStore labelScanStore,\n+                              RelationshipTypeScanStore relationshipTypeScanStore, IndexStatisticsStore indexStatisticsStore,\n+                              Dependencies databaseDependencies, DatabaseTracers tracers, LeaseService leaseService,\n+                              GlobalMemoryGroupTracker transactionsMemoryPool, ReadOnlyDatabaseChecker readOnlyDatabaseChecker)\n     {\n         this.config = config;\n         this.statementLocksFactory = statementLocksFactory;\n@@ -170,7 +174,7 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         this.accessCapability = accessCapability;\n         this.tokenHolders = tokenHolders;\n         this.readOnlyDatabaseChecker = readOnlyDatabaseChecker;\n-        this.tokenHoldersIdLookup = new TokenHoldersIdLookup( tokenHolders, globalProcedures );\n+        this.tokenHoldersIdLookup = new TokenHoldersIdLookup(tokenHolders, globalProcedures);\n         this.namedDatabaseId = namedDatabaseId;\n         this.indexingService = indexingService;\n         this.labelScanStore = labelScanStore;\n@@ -183,22 +187,22 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         this.constraintSemantics = constraintSemantics;\n         this.schemaState = schemaState;\n         this.leaseService = leaseService;\n-        this.factory = new KernelTransactionImplementationFactory( allTransactions, tracers );\n-        this.globalTxPool = new GlobalKernelTransactionPool( allTransactions, factory );\n-        this.localTxPool = new LocalKernelTransactionPool( globalTxPool, activeTransactionCounter, config );\n-        this.transactionMemoryPool = transactionsMemoryPool.newDatabasePool( namedDatabaseId.name(),\n-                config.get( memory_transaction_database_max_size ), memory_transaction_database_max_size.name() );\n-        config.addListener( memory_transaction_database_max_size, ( before, after ) -> transactionMemoryPool.setSize( after ) );\n+        this.factory = new KernelTransactionImplementationFactory(allTransactions, tracers);\n+        this.globalTxPool = new GlobalKernelTransactionPool(allTransactions, factory);\n+        this.localTxPool = new LocalKernelTransactionPool(globalTxPool, activeTransactionCounter, config);\n+        this.transactionMemoryPool = transactionsMemoryPool.newDatabasePool(namedDatabaseId.name(),\n+          config.get(memory_transaction_database_max_size), memory_transaction_database_max_size.name());\n+        config.addListener(memory_transaction_database_max_size, (before, after) -> transactionMemoryPool.setSize(after));\n         doBlockNewTransactions();\n     }\n \n-    public KernelTransaction newInstance( KernelTransaction.Type type, LoginContext loginContext, ClientConnectionInfo clientInfo, long timeout )\n+    public KernelTransaction newInstance(KernelTransaction.Type type, LoginContext loginContext, ClientConnectionInfo clientInfo, long timeout)\n     {\n         assertCurrentThreadIsNotBlockingNewTransactions();\n-        SecurityContext securityContext = loginContext.authorize( tokenHoldersIdLookup, namedDatabaseId.name() );\n+        SecurityContext securityContext = loginContext.authorize(tokenHoldersIdLookup, namedDatabaseId.name());\n         try\n         {\n-            while ( !newTransactionsLock.readLock().tryLock( 1, TimeUnit.SECONDS ) )\n+            while (!newTransactionsLock.readLock().tryLock(1, TimeUnit.SECONDS))\n             {\n                 assertRunning();\n             }\n@@ -208,19 +212,17 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n                 TransactionId lastCommittedTransaction = transactionIdStore.getLastCommittedTransaction();\n                 KernelTransactionImplementation tx = localTxPool.acquire();\n                 StatementLocks statementLocks = statementLocksFactory.newInstance();\n-                tx.initialize( lastCommittedTransaction.transactionId(), lastCommittedTransaction.commitTimestamp(),\n-                        statementLocks, type, securityContext, timeout, userTransactionIdCounter.incrementAndGet(), clientInfo );\n+                tx.initialize(lastCommittedTransaction.transactionId(), lastCommittedTransaction.commitTimestamp(),\n+                  statementLocks, type, securityContext, timeout, userTransactionIdCounter.incrementAndGet(), clientInfo);\n                 return tx;\n-            }\n-            finally\n+            } finally\n             {\n                 newTransactionsLock.readLock().unlock();\n             }\n-        }\n-        catch ( InterruptedException ie )\n+        } catch (InterruptedException ie)\n         {\n             Thread.interrupted();\n-            throw new TransactionFailureException( \"Fail to start new transaction.\", ie );\n+            throw new TransactionFailureException(\"Fail to start new transaction.\", ie);\n         }\n     }\n \n@@ -233,10 +235,10 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n     public Set<KernelTransactionHandle> activeTransactions()\n     {\n         return allTransactions\n-            .stream()\n-            .map( this::createHandle )\n-            .filter( KernelTransactionHandle::isOpen )\n-            .collect( toSet() );\n+          .stream()\n+          .map(this::createHandle)\n+          .filter(KernelTransactionHandle::isOpen)\n+          .collect(toSet());\n     }\n \n     /**\n@@ -248,10 +250,10 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n     public Set<KernelTransactionHandle> executingTransactions()\n     {\n         return allTransactions\n-                .stream()\n-                .map( this::createHandle )\n-                .filter( h -> h.isOpen() || h.isClosing() )\n-                .collect( toSet() );\n+          .stream()\n+          .map(this::createHandle)\n+          .filter(h -> h.isOpen() || h.isClosing())\n+          .collect(toSet());\n     }\n \n     /**\n@@ -274,12 +276,12 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         // we mark all transactions for termination since we want to make sure these transactions\n         // won't be reused, ever. Each transaction has, among other things, a Locks.Client and we\n         // certainly want to keep that from being reused from this point.\n-        allTransactions.forEach( tx -> tx.markForTermination( Status.Database.DatabaseUnavailable ) );\n+        allTransactions.forEach(tx -> tx.markForTermination(Status.Database.DatabaseUnavailable));\n     }\n \n     public boolean haveClosingTransaction()\n     {\n-        return allTransactions.stream().anyMatch( KernelTransactionImplementation::isClosing );\n+        return allTransactions.stream().anyMatch(KernelTransactionImplementation::isClosing);\n     }\n \n     @Override\n@@ -307,7 +309,7 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n     @Override\n     public IdController.ConditionSnapshot get()\n     {\n-        return new KernelTransactionsSnapshot( activeTransactions() );\n+        return new KernelTransactionsSnapshot(activeTransactions());\n     }\n \n     /**\n@@ -337,9 +339,9 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n      */\n     public void unblockNewTransactions()\n     {\n-        if ( !newTransactionsLock.writeLock().isHeldByCurrentThread() )\n+        if (!newTransactionsLock.writeLock().isHeldByCurrentThread())\n         {\n-            throw new IllegalStateException( \"This thread did not block transactions previously\" );\n+            throw new IllegalStateException(\"This thread did not block transactions previously\");\n         }\n         newTransactionsLock.writeLock().unlock();\n     }\n@@ -357,29 +359,29 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n      * @param tx transaction to wrap.\n      * @return transaction handle.\n      */\n-    KernelTransactionHandle createHandle( KernelTransactionImplementation tx )\n+    KernelTransactionHandle createHandle(KernelTransactionImplementation tx)\n     {\n-        return new KernelTransactionImplementationHandle( tx, clock );\n+        return new KernelTransactionImplementationHandle(tx, clock);\n     }\n \n     private void assertRunning()\n     {\n-        if ( databaseAvailabilityGuard.isShutdown() )\n+        if (databaseAvailabilityGuard.isShutdown())\n         {\n             throw new DatabaseShutdownException();\n         }\n-        if ( stopped )\n+        if (stopped)\n         {\n-            throw new IllegalStateException( \"Can't start new transaction with stopped \" + getClass() );\n+            throw new IllegalStateException(\"Can't start new transaction with stopped \" + getClass());\n         }\n     }\n \n     private void assertCurrentThreadIsNotBlockingNewTransactions()\n     {\n-        if ( newTransactionsLock.isWriteLockedByCurrentThread() )\n+        if (newTransactionsLock.isWriteLockedByCurrentThread())\n         {\n             throw new IllegalStateException(\n-                    \"Thread that is blocking new transactions from starting can't start new transaction\" );\n+              \"Thread that is blocking new transactions from starting can't start new transaction\");\n         }\n     }\n \n@@ -388,7 +390,7 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         private final Set<KernelTransactionImplementation> transactions;\n         private final DatabaseTracers tracers;\n \n-        KernelTransactionImplementationFactory( Set<KernelTransactionImplementation> transactions, DatabaseTracers tracers )\n+        KernelTransactionImplementationFactory(Set<KernelTransactionImplementation> transactions, DatabaseTracers tracers)\n         {\n             this.transactions = transactions;\n             this.tracers = tracers;\n@@ -398,14 +400,14 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         public KernelTransactionImplementation newInstance()\n         {\n             KernelTransactionImplementation tx =\n-                    new KernelTransactionImplementation( config, eventListeners,\n-                            constraintIndexCreator, globalProcedures,\n-                            transactionCommitProcess, transactionMonitor, localTxPool, clock, cpuClockRef,\n-                            tracers, storageEngine, accessCapability,\n-                            versionContextSupplier, collectionsFactorySupplier, constraintSemantics,\n-                            schemaState, tokenHolders, indexingService, labelScanStore, relationshipTypeScanStore, indexStatisticsStore,\n-                            databaseDependendies, namedDatabaseId, leaseService, transactionMemoryPool, readOnlyDatabaseChecker );\n-            this.transactions.add( tx );\n+              new KernelTransactionImplementation(config, eventListeners,\n+                constraintIndexCreator, globalProcedures,\n+                transactionCommitProcess, transactionMonitor, localTxPool, clock, cpuClockRef,\n+                tracers, storageEngine, accessCapability,\n+                versionContextSupplier, collectionsFactorySupplier, constraintSemantics,\n+                schemaState, tokenHolders, indexingService, labelScanStore, relationshipTypeScanStore, indexStatisticsStore,\n+                databaseDependendies, namedDatabaseId, leaseService, transactionMemoryPool, readOnlyDatabaseChecker);\n+            this.transactions.add(tx);\n             return tx;\n         }\n     }\n@@ -414,19 +416,19 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n     {\n         private final Set<KernelTransactionImplementation> transactions;\n \n-        GlobalKernelTransactionPool( Set<KernelTransactionImplementation> transactions,\n-                Factory<KernelTransactionImplementation> factory )\n+        GlobalKernelTransactionPool(Set<KernelTransactionImplementation> transactions,\n+                                    Factory<KernelTransactionImplementation> factory)\n         {\n-            super( 8, factory );\n+            super(8, factory);\n             this.transactions = transactions;\n         }\n \n         @Override\n-        protected void dispose( KernelTransactionImplementation tx )\n+        protected void dispose(KernelTransactionImplementation tx)\n         {\n-            transactions.remove( tx );\n+            transactions.remove(tx);\n             tx.dispose();\n-            super.dispose( tx );\n+            super.dispose(tx);\n         }\n     }\n \n@@ -435,13 +437,13 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         private final AtomicInteger activeTransactionCounter;\n         private volatile int maxNumberOfTransaction;\n \n-        LocalKernelTransactionPool( Pool<KernelTransactionImplementation> delegatePool, AtomicInteger activeTransactionCounter, Config config )\n+        LocalKernelTransactionPool(Pool<KernelTransactionImplementation> delegatePool, AtomicInteger activeTransactionCounter, Config config)\n         {\n-            super( delegatePool );\n+            super(delegatePool);\n             this.activeTransactionCounter = activeTransactionCounter;\n-            this.maxNumberOfTransaction = config.get( GraphDatabaseSettings.max_concurrent_transactions );\n-            config.addListener( GraphDatabaseSettings.max_concurrent_transactions,\n-                    ( oldValue, newValue ) -> maxNumberOfTransaction = newValue );\n+            this.maxNumberOfTransaction = config.get(GraphDatabaseSettings.max_concurrent_transactions);\n+            config.addListener(GraphDatabaseSettings.max_concurrent_transactions,\n+              (oldValue, newValue) -> maxNumberOfTransaction = newValue);\n         }\n \n         @Override\n@@ -452,10 +454,10 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n         }\n \n         @Override\n-        public void release( KernelTransactionImplementation obj )\n+        public void release(KernelTransactionImplementation obj)\n         {\n             activeTransactionCounter.decrementAndGet();\n-            super.release( obj );\n+            super.release(obj);\n         }\n \n         private void verifyTransactionsLimit()\n@@ -465,12 +467,12 @@ public class KernelTransactions extends LifecycleAdapter implements Supplier<IdC\n             {\n                 activeTransactions = activeTransactionCounter.get();\n                 int localTransactionMaximum = maxNumberOfTransaction;\n-                if ( localTransactionMaximum != 0 && activeTransactions >= localTransactionMaximum )\n+                if (localTransactionMaximum != 0 && activeTransactions >= localTransactionMaximum)\n                 {\n                     throw new MaximumTransactionLimitExceededException();\n                 }\n             }\n-            while ( !activeTransactionCounter.weakCompareAndSetAcquire( activeTransactions, activeTransactions + 1 ) );\n+            while (!activeTransactionCounter.weakCompareAndSetAcquire(activeTransactions, activeTransactions + 1));\n         }\n     }\n }\n",
            "diff_size": 75
        },
        {
            "tool": "naturalize",
            "errors": null,
            "diff": null
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}