{
    "project_name": "CESNET-perun",
    "error_id": "249",
    "information": {
        "errors": [
            {
                "line": "29",
                "severity": "error",
                "message": "Line has trailing spaces.",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "\tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n\tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n\t\n\n\t@Override\n\tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {",
    "results": [
        {
            "tool": "styler",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\nindex eb7c066542e..bcf5572c663 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n@@ -26,7 +26,7 @@ public class urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu extend\n \n \tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n \tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n-\t\n+\n \n \t@Override\n \tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/intellij/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\nindex eb7c066542e..32b2e752af2 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/intellij/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n@@ -13,6 +13,7 @@ import cz.metacentrum.perun.core.api.exceptions.WrongAttributeAssignmentExceptio\n import cz.metacentrum.perun.core.impl.PerunSessionImpl;\n import cz.metacentrum.perun.core.impl.Utils;\n import cz.metacentrum.perun.core.implApi.modules.attributes.UserVirtualAttributesModuleAbstract;\n+\n import java.util.List;\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n@@ -24,56 +25,64 @@ import java.util.regex.Pattern;\n  */\n public class urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu extends UserVirtualAttributesModuleAbstract {\n \n-\tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n-\tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n-\t\n+    private final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n+    private final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n+\n \n-\t@Override\n-\tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n-\t\tAttribute attribute = new Attribute(attributeDefinition);\n+    @Override\n+    public Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n+        Attribute attribute = new Attribute(attributeDefinition);\n \n-\t\ttry {\n-\t\t\tAttribute loginInMU = sess.getPerunBl().getAttributesManagerBl().getAttribute(sess, user, AttributesManager.NS_USER_ATTR_DEF + \":login-namespace:mu\");\n-\t\t\tattribute = Utils.copyAttributeToVirtualAttributeWithValue(loginInMU, attribute);\n-\t\t} catch (AttributeNotExistsException ex) {\n-\t\t\t//That means that mu login attribute not exists at all\n-\t\t} catch (WrongAttributeAssignmentException ex) {\n-\t\t\tthrow new InternalErrorException(ex);\n-\t\t}\n+        try {\n+            Attribute loginInMU = sess.getPerunBl().getAttributesManagerBl().getAttribute(sess, user, AttributesManager.NS_USER_ATTR_DEF + \":login-namespace:mu\");\n+            attribute = Utils.copyAttributeToVirtualAttributeWithValue(loginInMU, attribute);\n+        } catch (AttributeNotExistsException ex) {\n+            //That means that mu login attribute not exists at all\n+        } catch (WrongAttributeAssignmentException ex) {\n+            throw new InternalErrorException(ex);\n+        }\n \n-\t\t//if attribute is still null (empty login in mu or not existing attribute), try to find uco in user ext sources\n-\t\tif(attribute.getValue() == null) {\n-\t\t\tList<UserExtSource> userExtSources = sess.getPerunBl().getUsersManagerBl().getUserExtSources(sess, user);\n-\t\t\tfor(UserExtSource userExtSource : userExtSources) {\n-\t\t\t\tExtSource extSource = userExtSource.getExtSource();\n+        //if attribute is still null (empty login in mu or not existing attribute), try to find uco in user ext sources\n+        if (attribute.getValue() == null) {\n+            List<UserExtSource> userExtSources = sess.getPerunBl().getUsersManagerBl().getUserExtSources(sess, user);\n+            for (UserExtSource userExtSource : userExtSources) {\n+                ExtSource extSource = userExtSource.getExtSource();\n \n-\t\t\t\t//Skip if extSource is not the one we are looking for\n-\t\t\t\tif(userExtSource.getLogin() == null || extSource == null) continue;\n-\t\t\t\tif(!ExtSourcesManager.EXTSOURCE_IDP.equals(extSource.getType())) continue;\n-\t\t\t\tif(!EXTSOURCE_MUNI_IDP2.equals(extSource.getName())) continue;\n+                //Skip if extSource is not the one we are looking for\n+                if (userExtSource.getLogin() == null || extSource == null) {\n+                    continue;\n+                }\n+                if (!ExtSourcesManager.EXTSOURCE_IDP.equals(extSource.getType())) {\n+                    continue;\n+                }\n+                if (!EXTSOURCE_MUNI_IDP2.equals(extSource.getName())) {\n+                    continue;\n+                }\n \n-\t\t\t\t//Get login from this extSource and get only UCO from it\n-\t\t\t\tString login = userExtSource.getLogin();\n-\t\t\t\tMatcher loginMUMatcher = loginMUPattern.matcher(login);\n-\t\t\t\t//This user has login in mu, but in weird format so skip this one\n-\t\t\t\tif(!loginMUMatcher.find()) continue;\n-\t\t\t\t//It is ok, take UCO from login and set it to attribute value\n-\t\t\t\tString UCO = loginMUMatcher.group(1);\n-\t\t\t\tattribute.setValue(UCO);\n-\t\t\t\tbreak;\n-\t\t\t}\n-\t\t}\n+                //Get login from this extSource and get only UCO from it\n+                String login = userExtSource.getLogin();\n+                Matcher loginMUMatcher = loginMUPattern.matcher(login);\n+                //This user has login in mu, but in weird format so skip this one\n+                if (!loginMUMatcher.find()) {\n+                    continue;\n+                }\n+                //It is ok, take UCO from login and set it to attribute value\n+                String UCO = loginMUMatcher.group(1);\n+                attribute.setValue(UCO);\n+                break;\n+            }\n+        }\n \n-\t\treturn attribute;\n-\t}\n+        return attribute;\n+    }\n \n-\tpublic AttributeDefinition getAttributeDefinition() {\n-\t\tAttributeDefinition attr = new AttributeDefinition();\n-\t\tattr.setNamespace(AttributesManager.NS_USER_ATTR_VIRT);\n-\t\tattr.setFriendlyName(\"optionalLogin-namespace:mu\");\n-\t\tattr.setDisplayName(\"MU login (if available)\");\n-\t\tattr.setType(String.class.getName());\n-\t\tattr.setDescription(\"Masaryk University login (if available)\");\n-\t\treturn attr;\n-\t}\n+    public AttributeDefinition getAttributeDefinition() {\n+        AttributeDefinition attr = new AttributeDefinition();\n+        attr.setNamespace(AttributesManager.NS_USER_ATTR_VIRT);\n+        attr.setFriendlyName(\"optionalLogin-namespace:mu\");\n+        attr.setDisplayName(\"MU login (if available)\");\n+        attr.setType(String.class.getName());\n+        attr.setDescription(\"Masaryk University login (if available)\");\n+        return attr;\n+    }\n }\n",
            "diff_size": 54
        },
        {
            "tool": "naturalize",
            "errors": null,
            "diff": null
        },
        {
            "tool": "codebuff",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/codebuff/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\nindex eb7c066542e..1171557dbbf 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/codebuff/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n@@ -22,58 +22,61 @@ import java.util.regex.Pattern;\n  *\n  * @author Simona Kruppova, Michal Stava\n  */\n+\n+\n public class urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu extends UserVirtualAttributesModuleAbstract {\n \n-\tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n-\tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n-\t\n \n-\t@Override\n-\tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n-\t\tAttribute attribute = new Attribute(attributeDefinition);\n+ private final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n+ private final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n+\n+ @Override\n+ public Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n+  Attribute attribute = new Attribute(attributeDefinition);\n+  try {\n+   Attribute loginInMU = sess.getPerunBl().getAttributesManagerBl().getAttribute(sess, user, AttributesManager.NS_USER_ATTR_DEF + \":login-namespace:mu\");\n+   attribute = Utils.copyAttributeToVirtualAttributeWithValue(loginInMU, attribute);\n+  } catch (AttributeNotExistsException ex) {\n+   //That means that mu login attribute not exists at all\n+\n+  } catch (WrongAttributeAssignmentException ex) {\n+   throw new InternalErrorException(ex);\n+  }\n \n-\t\ttry {\n-\t\t\tAttribute loginInMU = sess.getPerunBl().getAttributesManagerBl().getAttribute(sess, user, AttributesManager.NS_USER_ATTR_DEF + \":login-namespace:mu\");\n-\t\t\tattribute = Utils.copyAttributeToVirtualAttributeWithValue(loginInMU, attribute);\n-\t\t} catch (AttributeNotExistsException ex) {\n-\t\t\t//That means that mu login attribute not exists at all\n-\t\t} catch (WrongAttributeAssignmentException ex) {\n-\t\t\tthrow new InternalErrorException(ex);\n-\t\t}\n+  //if attribute is still null (empty login in mu or not existing attribute), try to find uco in user ext sources\n+  if (attribute.getValue() == null) {\n+   List<UserExtSource> userExtSources = sess.getPerunBl().getUsersManagerBl().getUserExtSources(sess, user);\n+   for (UserExtSource userExtSource : userExtSources) {\n+    ExtSource extSource = userExtSource.getExtSource();\n \n-\t\t//if attribute is still null (empty login in mu or not existing attribute), try to find uco in user ext sources\n-\t\tif(attribute.getValue() == null) {\n-\t\t\tList<UserExtSource> userExtSources = sess.getPerunBl().getUsersManagerBl().getUserExtSources(sess, user);\n-\t\t\tfor(UserExtSource userExtSource : userExtSources) {\n-\t\t\t\tExtSource extSource = userExtSource.getExtSource();\n+    //Skip if extSource is not the one we are looking for\n+    if (userExtSource.getLogin() == null || extSource == null) continue;\n+    if (!ExtSourcesManager.EXTSOURCE_IDP.equals(extSource.getType())) continue;\n+    if (!EXTSOURCE_MUNI_IDP2.equals(extSource.getName())) continue;\n \n-\t\t\t\t//Skip if extSource is not the one we are looking for\n-\t\t\t\tif(userExtSource.getLogin() == null || extSource == null) continue;\n-\t\t\t\tif(!ExtSourcesManager.EXTSOURCE_IDP.equals(extSource.getType())) continue;\n-\t\t\t\tif(!EXTSOURCE_MUNI_IDP2.equals(extSource.getName())) continue;\n+    //Get login from this extSource and get only UCO from it\n+    String login = userExtSource.getLogin();\n+    Matcher loginMUMatcher = loginMUPattern.matcher(login);\n+    //This user has login in mu, but in weird format so skip this one\n+    if (!loginMUMatcher.find()) continue;\n+    //It is ok, take UCO from login and set it to attribute value\n+    String UCO = loginMUMatcher.group(1);\n+    attribute.setValue(UCO);\n+    break;\n+   }\n+  }\n \n-\t\t\t\t//Get login from this extSource and get only UCO from it\n-\t\t\t\tString login = userExtSource.getLogin();\n-\t\t\t\tMatcher loginMUMatcher = loginMUPattern.matcher(login);\n-\t\t\t\t//This user has login in mu, but in weird format so skip this one\n-\t\t\t\tif(!loginMUMatcher.find()) continue;\n-\t\t\t\t//It is ok, take UCO from login and set it to attribute value\n-\t\t\t\tString UCO = loginMUMatcher.group(1);\n-\t\t\t\tattribute.setValue(UCO);\n-\t\t\t\tbreak;\n-\t\t\t}\n-\t\t}\n+  return attribute;\n+ }\n \n-\t\treturn attribute;\n-\t}\n+ public AttributeDefinition getAttributeDefinition() {\n+  AttributeDefinition attr = new AttributeDefinition();\n+  attr.setNamespace(AttributesManager.NS_USER_ATTR_VIRT);\n+  attr.setFriendlyName(\"optionalLogin-namespace:mu\");\n+  attr.setDisplayName(\"MU login (if available)\");\n+  attr.setType(String.class.getName());\n+  attr.setDescription(\"Masaryk University login (if available)\");\n+  return attr;\n+ }\n \n-\tpublic AttributeDefinition getAttributeDefinition() {\n-\t\tAttributeDefinition attr = new AttributeDefinition();\n-\t\tattr.setNamespace(AttributesManager.NS_USER_ATTR_VIRT);\n-\t\tattr.setFriendlyName(\"optionalLogin-namespace:mu\");\n-\t\tattr.setDisplayName(\"MU login (if available)\");\n-\t\tattr.setType(String.class.getName());\n-\t\tattr.setDescription(\"Masaryk University login (if available)\");\n-\t\treturn attr;\n-\t}\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 74
        },
        {
            "tool": "styler_random",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler_random/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\nindex eb7c066542e..bcf5572c663 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler_random/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n@@ -26,7 +26,7 @@ public class urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu extend\n \n \tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n \tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n-\t\n+\n \n \t@Override\n \tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "errors": [],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler_three_grams/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\nindex eb7c066542e..3a33edcec9a 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/errored/1/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/CESNET-perun/styler_three_grams/249/urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu.java\n@@ -25,10 +25,8 @@ import java.util.regex.Pattern;\n public class urn_perun_user_attribute_def_virt_optionalLogin_namespace_mu extends UserVirtualAttributesModuleAbstract {\n \n \tprivate final String EXTSOURCE_MUNI_IDP2 = \"https://idp2.ics.muni.cz/idp/shibboleth\";\n-\tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\");\n-\t\n-\n-\t@Override\n+\tprivate final Pattern loginMUPattern = Pattern.compile(\"^([0-9]+)[@]muni[.]cz$\")\n+\t; @Override\n \tpublic Attribute getAttributeValue(PerunSessionImpl sess, User user, AttributeDefinition attributeDefinition) throws InternalErrorException {\n \t\tAttribute attribute = new Attribute(attributeDefinition);\n \n",
            "diff_size": 4
        }
    ],
    "repaired_by": [
        "styler",
        "intellij",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ],
    "not_repaired_by": [
        "naturalize"
    ]
}