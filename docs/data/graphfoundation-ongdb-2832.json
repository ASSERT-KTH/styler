{
    "project_name": "graphfoundation-ongdb",
    "error_id": "2832",
    "information": {
        "errors": [
            {
                "line": "1",
                "severity": "error",
                "message": "Missing, wrong or duplicated license header",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "/*\n * Copyright (c) 2002-2018 \"Neo Technology,\"\n * Network Engine for Objects in Lund AB [http://neotechnology.com]\n *",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "54",
                    "column": "25",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "55",
                    "column": "104",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "60",
                    "column": "33",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "60",
                    "column": "42",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "61",
                    "column": "49",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "61",
                    "column": "59",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "65",
                    "column": "45",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "65",
                    "column": "153",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "67",
                    "column": "50",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "67",
                    "column": "114",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "71",
                    "column": "20",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "71",
                    "column": "40",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "86",
                    "column": "21",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "86",
                    "column": "82",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "88",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "88",
                    "column": "16",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "105",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "105",
                    "column": "13",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "105",
                    "column": "36",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "110",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "110",
                    "column": "24",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "33",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "115",
                    "column": "7",
                    "severity": "error",
                    "message": "'}' at column 7 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "125",
                    "column": "21",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "126",
                    "column": "103",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "133",
                    "column": "37",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "133",
                    "column": "102",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "137",
                    "column": "9",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "137",
                    "column": "78",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "139",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "139",
                    "column": "88",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "146",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "146",
                    "column": "36",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "148",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "148",
                    "column": "33",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "154",
                    "column": "57",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "154",
                    "column": "70",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "158",
                    "column": "7",
                    "severity": "error",
                    "message": "'}' at column 7 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "164",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "164",
                    "column": "29",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "173",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "173",
                    "column": "74",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "179",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "179",
                    "column": "84",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "185",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "185",
                    "column": "70",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "191",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "191",
                    "column": "72",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "197",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "197",
                    "column": "73",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "203",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "203",
                    "column": "75",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "209",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "209",
                    "column": "79",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "215",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "215",
                    "column": "81",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "221",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "221",
                    "column": "69",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "227",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "227",
                    "column": "85",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "233",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "233",
                    "column": "85",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "239",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "239",
                    "column": "75",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "245",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "245",
                    "column": "77",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "251",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "251",
                    "column": "75",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/2832/BatchingMessageHandler.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/2832/BatchingMessageHandler.java\nindex 0b7e72ba0c3..b4465f1b1dd 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/2832/BatchingMessageHandler.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/2832/BatchingMessageHandler.java\n@@ -17,6 +17,7 @@\n  * You should have received a copy of the GNU Affero General Public License\n  * along with this program. If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n package org.neo4j.causalclustering.core;\n \n import java.util.ArrayList;\n@@ -40,218 +41,216 @@ import static org.neo4j.function.Predicates.awaitForever;\n \n class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>>\n {\n-    private final LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler;\n-    private final Log log;\n-    private final int maxBatch;\n-    private final List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch;\n-    private final BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue;\n-    private final ContinuousJob job;\n-    private final ContentHandler contentHandler = new ContentHandler();\n-\n-    private volatile boolean stopped;\n-\n-    BatchingMessageHandler( LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler, int queueSize, int maxBatch,\n-            Function<Runnable,ContinuousJob> jobSchedulerFactory, LogProvider logProvider )\n+  private final LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler;\n+  private final Log log;\n+  private final int maxBatch;\n+  private final List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch;\n+  private final BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue;\n+  private final ContinuousJob job;\n+  private final ContentHandler contentHandler = new ContentHandler();\n+\n+  private volatile boolean stopped;\n+\n+  BatchingMessageHandler(LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler, int queueSize, int maxBatch,\n+                         Function<Runnable, ContinuousJob> jobSchedulerFactory, LogProvider logProvider)\n+  {\n+    this.handler = handler;\n+    this.log = logProvider.getLog(getClass());\n+    this.maxBatch = maxBatch;\n+    this.batch = new ArrayList<>(maxBatch);\n+    this.messageQueue = new ArrayBlockingQueue<>(queueSize);\n+    job = jobSchedulerFactory.apply(this);\n+  }\n+\n+  static ComposableMessageHandler composable(int queueSize, int maxBatch, Function<Runnable, ContinuousJob> jobSchedulerFactory, LogProvider logProvider)\n+  {\n+    return delegate -> new BatchingMessageHandler(delegate, queueSize, maxBatch, jobSchedulerFactory, logProvider);\n+  }\n+\n+  @Override\n+  public void start(ClusterId clusterId) throws Throwable\n+  {\n+    handler.start(clusterId);\n+    job.start();\n+  }\n+\n+  @Override\n+  public void stop() throws Throwable\n+  {\n+    stopped = true;\n+    handler.stop();\n+    job.stop();\n+  }\n+\n+  @Override\n+  public void handle(RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message)\n+  {\n+    if (stopped)\n     {\n-        this.handler = handler;\n-        this.log = logProvider.getLog( getClass() );\n-        this.maxBatch = maxBatch;\n-        this.batch = new ArrayList<>( maxBatch );\n-        this.messageQueue = new ArrayBlockingQueue<>( queueSize );\n-        job = jobSchedulerFactory.apply( this );\n+      log.debug(\"This handler has been stopped, dropping the message: %s\", message);\n+      return;\n     }\n \n-    static ComposableMessageHandler composable( int queueSize, int maxBatch, Function<Runnable,ContinuousJob> jobSchedulerFactory, LogProvider logProvider )\n+    // keep trying to add the message into the queue, give up only if this component has been stopped\n+    awaitForever(() -> stopped || messageQueue.offer(message), 100, TimeUnit.MILLISECONDS);\n+  }\n+\n+  @Override\n+  public void run()\n+  {\n+    RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message = null;\n+    try\n     {\n-        return delegate -> new BatchingMessageHandler( delegate, queueSize, maxBatch, jobSchedulerFactory, logProvider );\n-    }\n-    @Override\n-    public void start( ClusterId clusterId ) throws Throwable\n+      message = messageQueue.poll(1, SECONDS);\n+    } catch (InterruptedException e)\n     {\n-        handler.start( clusterId );\n-        job.start();\n+      log.warn(\"Not expecting to be interrupted.\", e);\n     }\n \n-    @Override\n-    public void stop() throws Throwable\n+    if (message != null)\n     {\n-        stopped = true;\n-        handler.stop();\n-        job.stop();\n+      if (messageQueue.isEmpty())\n+      {\n+        handler.handle(message);\n+      } else\n+      {\n+        batch.clear();\n+        batch.add(message);\n+        drain(messageQueue, batch, maxBatch - 1);\n+        collateAndHandleBatch(batch);\n+      }\n     }\n+  }\n \n-    @Override\n-    public void handle( RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message )\n-    {\n-        if ( stopped )\n-        {\n-            log.debug( \"This handler has been stopped, dropping the message: %s\", message );\n-            return;\n-        }\n+  private void drain(BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue,\n+                     List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch, int maxElements)\n+  {\n+    List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> tempDraining = new ArrayList<>();\n+    messageQueue.drainTo(tempDraining, maxElements);\n+    batch.addAll(tempDraining);\n+  }\n \n-        // keep trying to add the message into the queue, give up only if this component has been stopped\n-        awaitForever( () -> stopped || messageQueue.offer( message ), 100, TimeUnit.MILLISECONDS );\n-    }\n+  private void collateAndHandleBatch(List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch)\n+  {\n+    RaftMessages.ReceivedInstantClusterIdAwareMessage<RaftMessages.NewEntry.BatchRequest> batchRequest = null;\n \n-    @Override\n-    public void run()\n+    for (RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message : batch)\n     {\n-        RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message = null;\n-        try\n-        {\n-            message = messageQueue.poll( 1, SECONDS );\n-        }\n-        catch ( InterruptedException e )\n-        {\n-            log.warn( \"Not expecting to be interrupted.\", e );\n-        }\n+      if (batchRequest != null && !message.clusterId().equals(batchRequest.clusterId()))\n+      {\n+        handler.handle(batchRequest);\n+        batchRequest = null;\n+      }\n \n-        if ( message != null )\n+      ReplicatedContent replicatedContent = message.dispatch(contentHandler);\n+      if (replicatedContent != null)\n+      {\n+        if (batchRequest == null)\n         {\n-            if ( messageQueue.isEmpty() )\n-            {\n-                handler.handle( message );\n-            }\n-            else\n-            {\n-                batch.clear();\n-                batch.add( message );\n-                drain( messageQueue, batch, maxBatch - 1 );\n-                collateAndHandleBatch( batch );\n-            }\n+          batchRequest =\n+              RaftMessages.ReceivedInstantClusterIdAwareMessage.of(\n+                  message.receivedAt(),\n+                  message.clusterId(),\n+                  new RaftMessages.NewEntry.BatchRequest(batch.size())\n+              );\n         }\n+        batchRequest.message().add(replicatedContent);\n+      } else\n+      {\n+        handler.handle(message);\n+      }\n     }\n \n-    private void drain( BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue,\n-                        List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch, int maxElements )\n+    if (batchRequest != null)\n     {\n-        List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> tempDraining = new ArrayList<>();\n-        messageQueue.drainTo( tempDraining, maxElements );\n-        batch.addAll( tempDraining );\n+      handler.handle(batchRequest);\n     }\n+  }\n \n-    private void collateAndHandleBatch( List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch )\n+  class ContentHandler implements RaftMessages.Handler<ReplicatedContent, RuntimeException>\n+  {\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.NewEntry.Request request) throws RuntimeException\n     {\n-        RaftMessages.ReceivedInstantClusterIdAwareMessage<RaftMessages.NewEntry.BatchRequest> batchRequest = null;\n-\n-        for ( RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message : batch )\n-        {\n-            if ( batchRequest != null && !message.clusterId().equals( batchRequest.clusterId() ) )\n-            {\n-                handler.handle( batchRequest );\n-                batchRequest = null;\n-            }\n-\n-            ReplicatedContent replicatedContent = message.dispatch( contentHandler );\n-            if ( replicatedContent != null )\n-            {\n-                if ( batchRequest == null )\n-                {\n-                    batchRequest =\n-                            RaftMessages.ReceivedInstantClusterIdAwareMessage.of(\n-                                    message.receivedAt(),\n-                                    message.clusterId(),\n-                                    new RaftMessages.NewEntry.BatchRequest( batch.size() )\n-                            );\n-                }\n-                batchRequest.message().add( replicatedContent );\n-            }\n-            else\n-            {\n-                handler.handle( message );\n-            }\n-        }\n-\n-        if ( batchRequest != null )\n-        {\n-            handler.handle( batchRequest );\n-        }\n+      return request.content();\n     }\n \n-    class ContentHandler implements RaftMessages.Handler<ReplicatedContent, RuntimeException>\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.NewEntry.BatchRequest batchRequest) throws RuntimeException\n     {\n-        @Override\n-        public ReplicatedContent handle( RaftMessages.NewEntry.Request request ) throws RuntimeException\n-        {\n-            return request.content();\n-        }\n-\n-        @Override\n-        public ReplicatedContent handle( RaftMessages.NewEntry.BatchRequest batchRequest ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.Vote.Request request ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.Vote.Request request) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.Vote.Response response ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.Vote.Response response) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.PreVote.Request request ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.PreVote.Request request) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.PreVote.Response response ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.PreVote.Response response) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.AppendEntries.Request request ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.AppendEntries.Request request) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.AppendEntries.Response response ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.AppendEntries.Response response) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.Heartbeat heartbeat ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.Heartbeat heartbeat) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.LogCompactionInfo logCompactionInfo ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.LogCompactionInfo logCompactionInfo) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.HeartbeatResponse heartbeatResponse ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.HeartbeatResponse heartbeatResponse) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.Timeout.Election election ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.Timeout.Election election) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.Timeout.Heartbeat heartbeat ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.Timeout.Heartbeat heartbeat) throws RuntimeException\n+    {\n+      return null;\n+    }\n \n-        @Override\n-        public ReplicatedContent handle( RaftMessages.PruneRequest pruneRequest ) throws RuntimeException\n-        {\n-            return null;\n-        }\n+    @Override\n+    public ReplicatedContent handle(RaftMessages.PruneRequest pruneRequest) throws RuntimeException\n+    {\n+      return null;\n     }\n+  }\n }\n",
            "diff_size": 240
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "53",
                    "severity": "error",
                    "message": "Line is longer than 160 characters (found 223).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "125",
                    "severity": "error",
                    "message": "Line is longer than 160 characters (found 189).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "148",
                    "severity": "error",
                    "message": "Line is longer than 160 characters (found 189).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/2832/BatchingMessageHandler.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/2832/BatchingMessageHandler.java\nindex 0b7e72ba0c3..978407c2bcd 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/2832/BatchingMessageHandler.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/2832/BatchingMessageHandler.java\n@@ -50,8 +50,7 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n \n     private volatile boolean stopped;\n \n-    BatchingMessageHandler( LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler, int queueSize, int maxBatch,\n-            Function<Runnable,ContinuousJob> jobSchedulerFactory, LogProvider logProvider )\n+    BatchingMessageHandler( LifecycleMessageHandler<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> handler, int queueSize, int maxBatch, Function<Runnable,ContinuousJob> jobSchedulerFactory, LogProvider logProvider )\n     {\n         this.handler = handler;\n         this.log = logProvider.getLog( getClass() );\n@@ -65,7 +64,8 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n     {\n         return delegate -> new BatchingMessageHandler( delegate, queueSize, maxBatch, jobSchedulerFactory, logProvider );\n     }\n-    @Override\n+\n+@Override\n     public void start( ClusterId clusterId ) throws Throwable\n     {\n         handler.start( clusterId );\n@@ -122,9 +122,8 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n         }\n     }\n \n-    private void drain( BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue,\n-                        List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch, int maxElements )\n-    {\n+    private void drain( BlockingQueue<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> messageQueue, List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch, int maxElements )\n+{\n         List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> tempDraining = new ArrayList<>();\n         messageQueue.drainTo( tempDraining, maxElements );\n         batch.addAll( tempDraining );\n@@ -133,8 +132,7 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n     private void collateAndHandleBatch( List<RaftMessages.ReceivedInstantClusterIdAwareMessage<?>> batch )\n     {\n         RaftMessages.ReceivedInstantClusterIdAwareMessage<RaftMessages.NewEntry.BatchRequest> batchRequest = null;\n-\n-        for ( RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message : batch )\n+for ( RaftMessages.ReceivedInstantClusterIdAwareMessage<?> message : batch )\n         {\n             if ( batchRequest != null && !message.clusterId().equals( batchRequest.clusterId() ) )\n             {\n@@ -147,12 +145,7 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n             {\n                 if ( batchRequest == null )\n                 {\n-                    batchRequest =\n-                            RaftMessages.ReceivedInstantClusterIdAwareMessage.of(\n-                                    message.receivedAt(),\n-                                    message.clusterId(),\n-                                    new RaftMessages.NewEntry.BatchRequest( batch.size() )\n-                            );\n+                    batchRequest = RaftMessages.ReceivedInstantClusterIdAwareMessage.of( message.receivedAt(), message.clusterId(), new RaftMessages.NewEntry.BatchRequest( batch.size() ) );\n                 }\n                 batchRequest.message().add( replicatedContent );\n             }\n@@ -254,4 +247,4 @@ class BatchingMessageHandler implements Runnable, LifecycleMessageHandler<RaftMe\n             return null;\n         }\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 16
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}