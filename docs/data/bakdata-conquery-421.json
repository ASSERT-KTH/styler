{
    "project_name": "bakdata-conquery",
    "error_id": "421",
    "information": {
        "errors": [
            {
                "line": "22",
                "column": "43",
                "severity": "warning",
                "message": "Don't use trailing comments.",
                "source": "com.puppycrawl.tools.checkstyle.checks.TrailingCommentCheck"
            }
        ]
    },
    "source_code": "\tprivate final Store store;\n\tprivate final Environment environment;\n\tprivate final long timeoutHalfMillis; // milliseconds\n\tprivate final Collection<Store>  openStores;\n\tprivate final Consumer<Environment> envCloseHook;\n\t",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "22",
                    "column": "42",
                    "severity": "warning",
                    "message": "Don't use trailing comments.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.TrailingCommentCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler/421/XodusStore.java\nindex c7d22c935a6..5a3733925ae 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler/421/XodusStore.java\n@@ -19,7 +19,7 @@ import lombok.extern.slf4j.Slf4j;\n public class XodusStore {\n \tprivate final Store store;\n \tprivate final Environment environment;\n-\tprivate final long timeoutHalfMillis; // milliseconds\n+\tprivate final long timeoutHalfMillis;// milliseconds private final Collection<Store>  openStores;\n \tprivate final Collection<Store>  openStores;\n \tprivate final Consumer<Environment> envCloseHook;\n \t\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "20",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "21",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "22",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "22",
                    "column": "43",
                    "severity": "warning",
                    "message": "Don't use trailing comments.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.TrailingCommentCheck"
                },
                {
                    "line": "23",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "24",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "26",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "27",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "28",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "29",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "30",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "31",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "32",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "33",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "34",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "35",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "36",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "38",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "39",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "40",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "42",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "43",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "44",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "46",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "47",
                    "severity": "error",
                    "message": "Comment indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "48",
                    "severity": "error",
                    "message": "Comment indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "49",
                    "severity": "error",
                    "message": "Comment indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "50",
                    "severity": "error",
                    "message": "Comment indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "51",
                    "severity": "error",
                    "message": "Comment indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "52",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "53",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "54",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "55",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "56",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "57",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "58",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "59",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "60",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "61",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "62",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "63",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "64",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "65",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "66",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "67",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "68",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "69",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "70",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "71",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "72",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "73",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "74",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "75",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "76",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "78",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "79",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "80",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "82",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "83",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "84",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "86",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "87",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "88",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "90",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "91",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "92",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "93",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "95",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "96",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "97",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "99",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "100",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "101",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "102",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "103",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "105",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "106",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "107",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "108",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "109",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "110",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "111",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "112",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                },
                {
                    "line": "113",
                    "severity": "error",
                    "message": "Indent must use tab characters",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineJavaCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/intellij/421/XodusStore.java\nindex c7d22c935a6..efec32679ad 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/intellij/421/XodusStore.java\n@@ -17,97 +17,98 @@ import lombok.extern.slf4j.Slf4j;\n \n @Slf4j\n public class XodusStore {\n-\tprivate final Store store;\n-\tprivate final Environment environment;\n-\tprivate final long timeoutHalfMillis; // milliseconds\n-\tprivate final Collection<Store>  openStores;\n-\tprivate final Consumer<Environment> envCloseHook;\n-\t\n-\tpublic XodusStore(Environment env, IStoreInfo storeId, Collection<Store> openStoresInEnv, Consumer<Environment> envCloseHook) {\n-\t\t// Arbitrary duration that is strictly shorter than the timeout to not get interrupted by StuckTxMonitor\n-\t\tthis.timeoutHalfMillis = env.getEnvironmentConfig().getEnvMonitorTxnsTimeout()/2;\n-\t\tthis.environment = env;\n-\t\tthis.openStores = openStoresInEnv;\n-\t\tthis.envCloseHook = envCloseHook;\n-\t\tthis.store = env.computeInTransaction(\n-\t\t\tt->env.openStore(storeId.getName(), StoreConfig.WITHOUT_DUPLICATES_WITH_PREFIXING, t)\n-\t\t);\n-\t\topenStoresInEnv.add(store);\n-\t}\n-\t\n-\tpublic boolean add(ByteIterable key, ByteIterable value) {\n-\t\treturn environment.computeInTransaction(t -> store.add(t, key, value));\n-\t}\n+    private final Store store;\n+    private final Environment environment;\n+    private final long timeoutHalfMillis; // milliseconds\n+    private final Collection<Store> openStores;\n+    private final Consumer<Environment> envCloseHook;\n \n-\tpublic ByteIterable get(ByteIterable key) {\n-\t\treturn environment.computeInReadonlyTransaction(t -> store.get(t, key));\n-\t}\n+    public XodusStore(Environment env, IStoreInfo storeId, Collection<Store> openStoresInEnv, Consumer<Environment> envCloseHook) {\n+        // Arbitrary duration that is strictly shorter than the timeout to not get interrupted by StuckTxMonitor\n+        this.timeoutHalfMillis = env.getEnvironmentConfig().getEnvMonitorTxnsTimeout() / 2;\n+        this.environment = env;\n+        this.openStores = openStoresInEnv;\n+        this.envCloseHook = envCloseHook;\n+        this.store = env.computeInTransaction(\n+            t -> env.openStore(storeId.getName(), StoreConfig.WITHOUT_DUPLICATES_WITH_PREFIXING, t)\n+        );\n+        openStoresInEnv.add(store);\n+    }\n \n-\t/**\n-\t * Iterate over all key-value pairs in a consistent manner.\n-\t * The transaction is read only!\n-\t * @param consumer function called for-each key-value pair.\n-\t */\n-\tpublic void forEach(BiConsumer<ByteIterable, ByteIterable> consumer) {\n-\t\tAtomicReference<ByteIterable> lastKey = new AtomicReference<>();\n-\t\tAtomicBoolean done = new AtomicBoolean(false);\n-\t\twhile(!done.get()) {\n-\t\t\tenvironment.executeInReadonlyTransaction(t -> {\n-\t\t\t\ttry(Cursor c = store.openCursor(t)) {\n-\t\t\t\t\t//try to load everything in the same transaction\n-\t\t\t\t\t//but keep within half of the timeout time\n-\t\t\t\t\tlong start = System.currentTimeMillis();\n-\t\t\t\t\t//search where we left of\n-\t\t\t\t\tif(lastKey.get() != null) {\n-\t\t\t\t\t\tc.getSearchKey(lastKey.get());\n-\t\t\t\t\t}\n-\t\t\t\t\twhile(System.currentTimeMillis()-start < timeoutHalfMillis) {\n-\t\t\t\t\t\tif(!c.getNext()) {\n-\t\t\t\t\t\t\tdone.set(true);\n-\t\t\t\t\t\t\treturn;\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tlastKey.set(c.getKey());\n-\t\t\t\t\t\tconsumer.accept(lastKey.get(), c.getValue());\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t});\n-\t\t}\n-\t}\n+    public boolean add(ByteIterable key, ByteIterable value) {\n+        return environment.computeInTransaction(t -> store.add(t, key, value));\n+    }\n \n-\tpublic boolean update(ByteIterable key, ByteIterable value) {\n-\t\treturn environment.computeInTransaction(t -> store.put(t, key, value));\n-\t}\n-\t\n-\tpublic boolean remove(ByteIterable key) {\n-\t\treturn environment.computeInTransaction(t -> store.delete(t, key));\n-\t}\n+    public ByteIterable get(ByteIterable key) {\n+        return environment.computeInReadonlyTransaction(t -> store.get(t, key));\n+    }\n \n-\tpublic int count() {\n-\t\treturn Ints.checkedCast(environment.computeInReadonlyTransaction(store::count));\n-\t}\n-\t\n-\t@Override\n-\tpublic String toString() {\n-\t\treturn store.getName();\n-\t}\n+    /**\n+     * Iterate over all key-value pairs in a consistent manner.\n+     * The transaction is read only!\n+     *\n+     * @param consumer function called for-each key-value pair.\n+     */\n+    public void forEach(BiConsumer<ByteIterable, ByteIterable> consumer) {\n+        AtomicReference<ByteIterable> lastKey = new AtomicReference<>();\n+        AtomicBoolean done = new AtomicBoolean(false);\n+        while (!done.get()) {\n+            environment.executeInReadonlyTransaction(t -> {\n+                try (Cursor c = store.openCursor(t)) {\n+                    //try to load everything in the same transaction\n+                    //but keep within half of the timeout time\n+                    long start = System.currentTimeMillis();\n+                    //search where we left of\n+                    if (lastKey.get() != null) {\n+                        c.getSearchKey(lastKey.get());\n+                    }\n+                    while (System.currentTimeMillis() - start < timeoutHalfMillis) {\n+                        if (!c.getNext()) {\n+                            done.set(true);\n+                            return;\n+                        }\n+                        lastKey.set(c.getKey());\n+                        consumer.accept(lastKey.get(), c.getValue());\n+                    }\n+                }\n+            });\n+        }\n+    }\n \n-\tpublic void clear() {\n-\t\t// TODO implement, unused at the moment\n-\t}\n+    public boolean update(ByteIterable key, ByteIterable value) {\n+        return environment.computeInTransaction(t -> store.put(t, key, value));\n+    }\n \n-\tpublic void remove() {\n-\t\tlog.debug(\"Removing store {} from environment {}\", store, environment.getLocation());\n-\t\tenvironment.executeInTransaction(t -> environment.removeStore(store.getName(),t));\n-\t\tclose();\n-\t}\n+    public boolean remove(ByteIterable key) {\n+        return environment.computeInTransaction(t -> store.delete(t, key));\n+    }\n \n-\tpublic void close() {\n-\t\tlog.info(\"Closing XodusStore: {}\", this);\n-\t\topenStores.remove(store);\n-\t\tif (openStores.isEmpty()){\n-\t\t\t// Last Store closes the Environment\n-\t\t\tlog.info(\"Closed last XodusStore in Environment. Closing Environment as well: {}\", environment.getLocation());\n-\t\t\tenvCloseHook.accept(environment);\n-\t\t}\n-\t}\n+    public int count() {\n+        return Ints.checkedCast(environment.computeInReadonlyTransaction(store::count));\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return store.getName();\n+    }\n+\n+    public void clear() {\n+        // TODO implement, unused at the moment\n+    }\n+\n+    public void remove() {\n+        log.debug(\"Removing store {} from environment {}\", store, environment.getLocation());\n+        environment.executeInTransaction(t -> environment.removeStore(store.getName(), t));\n+        close();\n+    }\n+\n+    public void close() {\n+        log.info(\"Closing XodusStore: {}\", this);\n+        openStores.remove(store);\n+        if (openStores.isEmpty()) {\n+            // Last Store closes the Environment\n+            log.info(\"Closed last XodusStore in Environment. Closing Environment as well: {}\", environment.getLocation());\n+            envCloseHook.accept(environment);\n+        }\n+    }\n }\n",
            "diff_size": 136
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "24",
                    "column": "1",
                    "severity": "warning",
                    "message": "Comment has incorrect indentation level 0, expected is 1, indentation should be the same level as line 25.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                },
                {
                    "line": "29",
                    "column": "5",
                    "severity": "warning",
                    "message": "Comment has incorrect indentation level 1, expected is 2, indentation should be the same level as line 30.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/naturalize/421/XodusStore.java\nindex c7d22c935a6..648a6cc67e5 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/naturalize/421/XodusStore.java\n@@ -19,12 +19,14 @@ import lombok.extern.slf4j.Slf4j;\n public class XodusStore {\n \tprivate final Store store;\n \tprivate final Environment environment;\n-\tprivate final long timeoutHalfMillis; // milliseconds\n-\tprivate final Collection<Store>  openStores;\n+\tprivate final long timeoutHalfMillis;\n+\n+// milliseconds\n+\tprivate final Collection<Store> openStores;\n \tprivate final Consumer<Environment> envCloseHook;\n \t\n \tpublic XodusStore(Environment env, IStoreInfo storeId, Collection<Store> openStoresInEnv, Consumer<Environment> envCloseHook) {\n-\t\t// Arbitrary duration that is strictly shorter than the timeout to not get interrupted by StuckTxMonitor\n+\t// Arbitrary duration that is strictly shorter than the timeout to not get interrupted by StuckTxMonitor\n \t\tthis.timeoutHalfMillis = env.getEnvironmentConfig().getEnvMonitorTxnsTimeout()/2;\n \t\tthis.environment = env;\n \t\tthis.openStores = openStoresInEnv;\n@@ -104,10 +106,10 @@ public class XodusStore {\n \tpublic void close() {\n \t\tlog.info(\"Closing XodusStore: {}\", this);\n \t\topenStores.remove(store);\n-\t\tif (openStores.isEmpty()){\n+\t\tif (openStores.isEmpty()) {\n \t\t\t// Last Store closes the Environment\n \t\t\tlog.info(\"Closed last XodusStore in Environment. Closing Environment as well: {}\", environment.getLocation());\n \t\t\tenvCloseHook.accept(environment);\n \t\t}\n \t}\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 7
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "24",
                    "column": "9",
                    "severity": "warning",
                    "message": "'member def modifier' has incorrect indentation level 8, expected level should be 4.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.IndentationCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler_random/421/XodusStore.java\nindex c7d22c935a6..d138de57a56 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler_random/421/XodusStore.java\n@@ -19,8 +19,9 @@ import lombok.extern.slf4j.Slf4j;\n public class XodusStore {\n \tprivate final Store store;\n \tprivate final Environment environment;\n-\tprivate final long timeoutHalfMillis; // milliseconds\n-\tprivate final Collection<Store>  openStores;\n+\tprivate final long timeoutHalfMillis;\n+\t\t// milliseconds\n+\t\tprivate final Collection<Store>  openStores;\n \tprivate final Consumer<Environment> envCloseHook;\n \t\n \tpublic XodusStore(Environment env, IStoreInfo storeId, Collection<Store> openStoresInEnv, Consumer<Environment> envCloseHook) {\n",
            "diff_size": 3
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "22",
                    "column": "42",
                    "severity": "warning",
                    "message": "Don't use trailing comments.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.TrailingCommentCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler_three_grams/421/XodusStore.java\nindex c7d22c935a6..5a3733925ae 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/errored/1/421/XodusStore.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/bakdata-conquery/styler_three_grams/421/XodusStore.java\n@@ -19,7 +19,7 @@ import lombok.extern.slf4j.Slf4j;\n public class XodusStore {\n \tprivate final Store store;\n \tprivate final Environment environment;\n-\tprivate final long timeoutHalfMillis; // milliseconds\n+\tprivate final long timeoutHalfMillis;// milliseconds private final Collection<Store>  openStores;\n \tprivate final Collection<Store>  openStores;\n \tprivate final Consumer<Environment> envCloseHook;\n \t\n",
            "diff_size": 1
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}