{
    "project_name": "graphfoundation-ongdb",
    "error_id": "1457",
    "information": {
        "errors": [
            {
                "line": "1",
                "severity": "error",
                "message": "Missing, wrong or duplicated license header",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "/*\n * Copyright (c) 2002-2018 \"Neo Technology,\"\n * Network Engine for Objects in Lund AB [http://neotechnology.com]\n *",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "121",
                    "column": "23",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "121",
                    "column": "44",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "132",
                    "column": "40",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "132",
                    "column": "68",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "160",
                    "column": "22",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "171",
                    "column": "53",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "171",
                    "column": "60",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "172",
                    "column": "53",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "172",
                    "column": "60",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "184",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "193",
                    "column": "24",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "193",
                    "column": "54",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "200",
                    "column": "11",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "200",
                    "column": "19",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "203",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "203",
                    "column": "38",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "217",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "217",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "230",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "230",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "245",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "245",
                    "column": "81",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "261",
                    "column": "26",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "261",
                    "column": "76",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "281",
                    "column": "24",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "281",
                    "column": "74",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "283",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "283",
                    "column": "43",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "289",
                    "column": "11",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "289",
                    "column": "60",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "291",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "291",
                    "column": "45",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "305",
                    "column": "30",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "305",
                    "column": "59",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "307",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "307",
                    "column": "20",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "312",
                    "column": "10",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "312",
                    "column": "31",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "314",
                    "column": "40",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "314",
                    "column": "64",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "346",
                    "column": "11",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "346",
                    "column": "64",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "353",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "353",
                    "column": "13",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "353",
                    "column": "37",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "357",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "357",
                    "column": "13",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "357",
                    "column": "28",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "360",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "360",
                    "column": "13",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "360",
                    "column": "25",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/1457/SlaveUpdatePuller.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/1457/SlaveUpdatePuller.java\nindex 4f13f82806d..6d4bac851b6 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/1457/SlaveUpdatePuller.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/1457/SlaveUpdatePuller.java\n@@ -17,6 +17,7 @@\n  * You should have received a copy of the GNU Affero General Public License\n  * along with this program. If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n package org.neo4j.kernel.ha;\n \n import java.util.concurrent.TimeUnit;\n@@ -115,256 +116,252 @@ import static java.lang.System.currentTimeMillis;\n  */\n public class SlaveUpdatePuller implements Runnable, UpdatePuller, JobScheduler.CancelListener\n {\n-    public interface Monitor\n-    {\n-        void pulledUpdates( long lastAppliedTxId );\n-    }\n+  public interface Monitor\n+  {\n+    void pulledUpdates(long lastAppliedTxId);\n+  }\n \n-    public static final int LOG_CAP = Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.LOG_CAP\", 10 );\n-    public static final long PARK_NANOS = TimeUnit.MILLISECONDS.toNanos( Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.PARK_MILLIS\", 100 ) );\n-    public static final int AVAILABILITY_AWAIT_MILLIS = Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.AVAILABILITY_AWAIT_MILLIS\", 5000 );\n-    public static final String UPDATE_PULLER_THREAD_PREFIX = \"UpdatePuller@\";\n-\n-    static final Condition NEXT_TICKET = ( currentTicket, targetTicket ) -> currentTicket >= targetTicket;\n-\n-    private volatile boolean halted;\n-    private final AtomicInteger targetTicket = new AtomicInteger();\n-    private final AtomicInteger currentTicket = new AtomicInteger();\n-    private final RequestContextFactory requestContextFactory;\n-    private final Master master;\n-    private final Log logger;\n-    private final CappedLogger invalidEpochCappedLogger;\n-    private final CappedLogger comExceptionCappedLogger;\n-    private final LastUpdateTime lastUpdateTime;\n-    private final InstanceId instanceId;\n-    private final AvailabilityGuard availabilityGuard;\n-    private final InvalidEpochExceptionHandler invalidEpochHandler;\n-    private final Monitor monitor;\n-    private final JobScheduler jobScheduler;\n-    private volatile Thread updatePullingThread;\n-    private volatile BinaryLatch shutdownLatch; // Store under synchronised(this), load in update puller thread\n-\n-    SlaveUpdatePuller(\n-            RequestContextFactory requestContextFactory,\n-            Master master,\n-            LastUpdateTime lastUpdateTime,\n-            LogProvider logging,\n-            InstanceId instanceId,\n-            AvailabilityGuard availabilityGuard,\n-            InvalidEpochExceptionHandler invalidEpochHandler,\n-            JobScheduler jobScheduler,\n-            Monitor monitor )\n-    {\n-        this.requestContextFactory = requestContextFactory;\n-        this.master = master;\n-        this.lastUpdateTime = lastUpdateTime;\n-        this.instanceId = instanceId;\n-        this.availabilityGuard = availabilityGuard;\n-        this.invalidEpochHandler = invalidEpochHandler;\n-        this.jobScheduler = jobScheduler;\n-        this.monitor = monitor;\n-        this.logger = logging.getLog( getClass() );\n-        this.invalidEpochCappedLogger = new CappedLogger( logger ).setCountLimit( LOG_CAP );\n-        this.comExceptionCappedLogger = new CappedLogger( logger ).setCountLimit( LOG_CAP );\n-    }\n+  public static final int LOG_CAP = Integer.getInteger(\n+      \"org.neo4j.kernel.ha.SlaveUpdatePuller.LOG_CAP\", 10);\n+  public static final long PARK_NANOS = TimeUnit.MILLISECONDS.toNanos(Integer.getInteger(\n+      \"org.neo4j.kernel.ha.SlaveUpdatePuller.PARK_MILLIS\", 100));\n+  public static final int AVAILABILITY_AWAIT_MILLIS = Integer.getInteger(\n+      \"org.neo4j.kernel.ha.SlaveUpdatePuller.AVAILABILITY_AWAIT_MILLIS\", 5000);\n+  public static final String UPDATE_PULLER_THREAD_PREFIX = \"UpdatePuller@\";\n \n-    @Override\n-    public void run()\n-    {\n-        updatePullingThread = Thread.currentThread();\n-        String oldName = updatePullingThread.getName();\n-        updatePullingThread.setName( UPDATE_PULLER_THREAD_PREFIX + instanceId );\n-        try\n-        {\n-            periodicallyPullUpdates();\n-        }\n-        finally\n-        {\n-            updatePullingThread.setName( oldName );\n-            updatePullingThread = null;\n-            shutdownLatch.release();\n-        }\n-    }\n+  static final Condition NEXT_TICKET = (currentTicket, targetTicket) -> currentTicket >= targetTicket;\n \n-    @Override\n-    public void cancelled( boolean mayInterruptIfRunning )\n-    {\n-        halted = true;\n-    }\n+  private volatile boolean halted;\n+  private final AtomicInteger targetTicket = new AtomicInteger();\n+  private final AtomicInteger currentTicket = new AtomicInteger();\n+  private final RequestContextFactory requestContextFactory;\n+  private final Master master;\n+  private final Log logger;\n+  private final CappedLogger invalidEpochCappedLogger;\n+  private final CappedLogger comExceptionCappedLogger;\n+  private final LastUpdateTime lastUpdateTime;\n+  private final InstanceId instanceId;\n+  private final AvailabilityGuard availabilityGuard;\n+  private final InvalidEpochExceptionHandler invalidEpochHandler;\n+  private final Monitor monitor;\n+  private final JobScheduler jobScheduler;\n+  private volatile Thread updatePullingThread;\n+  private volatile BinaryLatch shutdownLatch; // Store under synchronised(this), load in update puller thread\n \n-    private void periodicallyPullUpdates()\n-    {\n-        while ( !halted )\n-        {\n-            int round = targetTicket.get();\n-            if ( currentTicket.get() < round )\n-            {\n-                doPullUpdates();\n-                currentTicket.set( round );\n-                continue;\n-            }\n-\n-            LockSupport.parkNanos( PARK_NANOS );\n-        }\n-    }\n+  SlaveUpdatePuller(\n+      RequestContextFactory requestContextFactory,\n+      Master master,\n+      LastUpdateTime lastUpdateTime,\n+      LogProvider logging,\n+      InstanceId instanceId,\n+      AvailabilityGuard availabilityGuard,\n+      InvalidEpochExceptionHandler invalidEpochHandler,\n+      JobScheduler jobScheduler,\n+      Monitor monitor)\n+  {\n+    this.requestContextFactory = requestContextFactory;\n+    this.master = master;\n+    this.lastUpdateTime = lastUpdateTime;\n+    this.instanceId = instanceId;\n+    this.availabilityGuard = availabilityGuard;\n+    this.invalidEpochHandler = invalidEpochHandler;\n+    this.jobScheduler = jobScheduler;\n+    this.monitor = monitor;\n+    this.logger = logging.getLog(getClass());\n+    this.invalidEpochCappedLogger = new CappedLogger(logger).setCountLimit(LOG_CAP);\n+    this.comExceptionCappedLogger = new CappedLogger(logger).setCountLimit(LOG_CAP);\n+  }\n \n-    @Override\n-    public void start()\n+  @Override\n+  public void run()\n+  {\n+    updatePullingThread = Thread.currentThread();\n+    String oldName = updatePullingThread.getName();\n+    updatePullingThread.setName(UPDATE_PULLER_THREAD_PREFIX + instanceId);\n+    try\n     {\n-        if ( shutdownLatch != null )\n-        {\n-            return; // This SlaveUpdatePuller has already been initialised\n-        }\n-\n-        shutdownLatch = new BinaryLatch();\n-        JobHandle handle = jobScheduler.schedule( JobScheduler.Groups.pullUpdates, this );\n-        handle.registerCancelListener( this );\n-    }\n-\n-    @Override\n-    public void stop() // for removing throw declaration\n+      periodicallyPullUpdates();\n+    } finally\n     {\n-        if ( shutdownLatch == null )\n-        {\n-            return; // This SlaveUpdatePuller has already been shut down\n-        }\n-\n-        Thread thread = updatePullingThread;\n-        halted = true;\n-        LockSupport.unpark( thread );\n-        shutdownLatch.await();\n-        shutdownLatch = null;\n+      updatePullingThread.setName(oldName);\n+      updatePullingThread = null;\n+      shutdownLatch.release();\n     }\n+  }\n+\n+  @Override\n+  public void cancelled(boolean mayInterruptIfRunning)\n+  {\n+    halted = true;\n+  }\n \n-    @Override\n-    public void pullUpdates() throws InterruptedException\n+  private void periodicallyPullUpdates()\n+  {\n+    while (!halted)\n     {\n-        if ( !isActive() || !availabilityGuard.isAvailable( AVAILABILITY_AWAIT_MILLIS ) )\n-        {\n-            return;\n-        }\n+      int round = targetTicket.get();\n+      if (currentTicket.get() < round)\n+      {\n+        doPullUpdates();\n+        currentTicket.set(round);\n+        continue;\n+      }\n \n-        tryPullUpdates();\n+      LockSupport.parkNanos(PARK_NANOS);\n     }\n+  }\n \n-    @Override\n-    public boolean tryPullUpdates() throws InterruptedException\n+  @Override\n+  public void start()\n+  {\n+    if (shutdownLatch != null)\n     {\n-        return await( NEXT_TICKET,\n-                false /*we're OK with the update puller becoming inactive while we await the condition*/ );\n+      return; // This SlaveUpdatePuller has already been initialised\n     }\n \n-    @Override\n-    public void pullUpdates( Condition condition, boolean strictlyAssertActive ) throws InterruptedException\n-    {\n-        await( condition, strictlyAssertActive );\n-    }\n+    shutdownLatch = new BinaryLatch();\n+    JobHandle handle = jobScheduler.schedule(JobScheduler.Groups.pullUpdates, this);\n+    handle.registerCancelListener(this);\n+  }\n \n-    /**\n-     * Gets the update puller going, if it's not already going, and waits for the supplied condition to be\n-     * fulfilled as part of the update pulling happening.\n-     *\n-     * @param condition {@link UpdatePuller.Condition} to wait for.\n-     * @param strictlyAssertActive if {@code true} then observing an inactive update puller, whether\n-     * {@link #stop() halted}, will throw an {@link IllegalStateException},\n-     * otherwise if {@code false} just stop waiting and return {@code false}.\n-     * @return whether or not the condition was met. If {@code strictlyAssertActive} either\n-     * {@code true} will be returned or exception thrown, if puller became inactive.\n-     * If {@code !strictlyAssertActive} and puller became inactive then {@code false} is returned.\n-     * @throws InterruptedException if we were interrupted while awaiting the condition.\n-     * @throws IllegalStateException if {@code strictlyAssertActive} and the update puller\n-     * became inactive while awaiting the condition.\n-     */\n-    private boolean await( Condition condition, boolean strictlyAssertActive ) throws InterruptedException\n+  @Override\n+  public void stop() // for removing throw declaration\n+  {\n+    if (shutdownLatch == null)\n     {\n-        if ( !checkActive( strictlyAssertActive ) )\n-        {\n-            return false;\n-        }\n-\n-        int ticket = poke();\n-        while ( !condition.evaluate( currentTicket.get(), ticket ) )\n-        {\n-            if ( !checkActive( strictlyAssertActive ) )\n-            {\n-                return false;\n-            }\n-\n-            Thread.sleep( 1 );\n-        }\n-        return true;\n+      return; // This SlaveUpdatePuller has already been shut down\n     }\n \n-    /**\n-     * @return {@code true} if active, {@code false} if inactive and {@code !strictlyAssertActive}\n-     * @throws IllegalStateException if inactive and {@code strictlyAssertActive}.\n-     */\n-    private boolean checkActive( boolean strictlyAssertActive )\n+    Thread thread = updatePullingThread;\n+    halted = true;\n+    LockSupport.unpark(thread);\n+    shutdownLatch.await();\n+    shutdownLatch = null;\n+  }\n+\n+  @Override\n+  public void pullUpdates() throws InterruptedException\n+  {\n+    if (!isActive() || !availabilityGuard.isAvailable(AVAILABILITY_AWAIT_MILLIS))\n     {\n-        if ( !isActive() )\n-        {\n-            // The update puller is observed as being inactive\n-\n-            // The caller strictly requires the update puller to be active so should throw exception\n-            if ( strictlyAssertActive )\n-            {\n-                throw new IllegalStateException( this + \" is not active\" );\n-            }\n-\n-            // The caller is OK with ignoring an inactive update puller, so just return\n-            return false;\n-        }\n-        return true;\n+      return;\n     }\n \n-    private int poke()\n+    tryPullUpdates();\n+  }\n+\n+  @Override\n+  public boolean tryPullUpdates() throws InterruptedException\n+  {\n+    return await(NEXT_TICKET,\n+        false /*we're OK with the update puller becoming inactive while we await the condition*/);\n+  }\n+\n+  @Override\n+  public void pullUpdates(Condition condition, boolean strictlyAssertActive) throws InterruptedException\n+  {\n+    await(condition, strictlyAssertActive);\n+  }\n+\n+  /**\n+   * Gets the update puller going, if it's not already going, and waits for the supplied condition to be\n+   * fulfilled as part of the update pulling happening.\n+   *\n+   * @param condition            {@link UpdatePuller.Condition} to wait for.\n+   * @param strictlyAssertActive if {@code true} then observing an inactive update puller, whether\n+   *                             {@link #stop() halted}, will throw an {@link IllegalStateException},\n+   *                             otherwise if {@code false} just stop waiting and return {@code false}.\n+   * @return whether or not the condition was met. If {@code strictlyAssertActive} either\n+   * {@code true} will be returned or exception thrown, if puller became inactive.\n+   * If {@code !strictlyAssertActive} and puller became inactive then {@code false} is returned.\n+   * @throws InterruptedException  if we were interrupted while awaiting the condition.\n+   * @throws IllegalStateException if {@code strictlyAssertActive} and the update puller\n+   *                               became inactive while awaiting the condition.\n+   */\n+  private boolean await(Condition condition, boolean strictlyAssertActive) throws InterruptedException\n+  {\n+    if (!checkActive(strictlyAssertActive))\n     {\n-        int result = this.targetTicket.incrementAndGet();\n-        LockSupport.unpark( updatePullingThread );\n-        return result;\n+      return false;\n     }\n \n-    public boolean isActive()\n+    int ticket = poke();\n+    while (!condition.evaluate(currentTicket.get(), ticket))\n     {\n-        return !halted;\n+      if (!checkActive(strictlyAssertActive))\n+      {\n+        return false;\n+      }\n+\n+      Thread.sleep(1);\n     }\n+    return true;\n+  }\n \n-    @Override\n-    public String toString()\n+  /**\n+   * @return {@code true} if active, {@code false} if inactive and {@code !strictlyAssertActive}\n+   * @throws IllegalStateException if inactive and {@code strictlyAssertActive}.\n+   */\n+  private boolean checkActive(boolean strictlyAssertActive)\n+  {\n+    if (!isActive())\n     {\n-        return \"UpdatePuller[halted:\" + halted + \", current:\" + currentTicket + \", target:\" + targetTicket + \"]\";\n+      // The update puller is observed as being inactive\n+\n+      // The caller strictly requires the update puller to be active so should throw exception\n+      if (strictlyAssertActive)\n+      {\n+        throw new IllegalStateException(this + \" is not active\");\n+      }\n+\n+      // The caller is OK with ignoring an inactive update puller, so just return\n+      return false;\n     }\n+    return true;\n+  }\n+\n+  private int poke()\n+  {\n+    int result = this.targetTicket.incrementAndGet();\n+    LockSupport.unpark(updatePullingThread);\n+    return result;\n+  }\n+\n+  public boolean isActive()\n+  {\n+    return !halted;\n+  }\n+\n+  @Override\n+  public String toString()\n+  {\n+    return \"UpdatePuller[halted:\" + halted + \", current:\" + currentTicket + \", target:\" + targetTicket + \"]\";\n+  }\n \n-    private void doPullUpdates()\n+  private void doPullUpdates()\n+  {\n+    try\n+    {\n+      RequestContext context = requestContextFactory.newRequestContext();\n+      try (Response<Void> ignored = master.pullUpdates(context))\n+      {\n+        // Updates would be applied as part of response processing\n+        monitor.pulledUpdates(context.lastAppliedTransaction());\n+      }\n+      invalidEpochCappedLogger.reset();\n+      comExceptionCappedLogger.reset();\n+    } catch (InvalidEpochException e)\n+    {\n+      invalidEpochHandler.handle();\n+      invalidEpochCappedLogger.warn(\"Pull updates by \" + this + \" failed at the epoch check\", e);\n+    } catch (ComException e)\n+    {\n+      invalidEpochCappedLogger.warn(\"Pull updates by \" + this + \" failed due to network error.\", e);\n+    } catch (Throwable e)\n     {\n-        try\n-        {\n-            RequestContext context = requestContextFactory.newRequestContext();\n-            try ( Response<Void> ignored = master.pullUpdates( context ) )\n-            {\n-                // Updates would be applied as part of response processing\n-                monitor.pulledUpdates( context.lastAppliedTransaction() );\n-            }\n-            invalidEpochCappedLogger.reset();\n-            comExceptionCappedLogger.reset();\n-        }\n-        catch ( InvalidEpochException e )\n-        {\n-            invalidEpochHandler.handle();\n-            invalidEpochCappedLogger.warn( \"Pull updates by \" + this + \" failed at the epoch check\", e );\n-        }\n-        catch ( ComException e )\n-        {\n-            invalidEpochCappedLogger.warn( \"Pull updates by \" + this + \" failed due to network error.\", e );\n-        }\n-        catch ( Throwable e )\n-        {\n-            logger.error( \"Pull updates by \" + this + \" failed\", e );\n-        }\n-        lastUpdateTime.setLastUpdateTime( currentTimeMillis() );\n+      logger.error(\"Pull updates by \" + this + \" failed\", e);\n     }\n+    lastUpdateTime.setLastUpdateTime(currentTimeMillis());\n+  }\n \n }\n",
            "diff_size": 358
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/1457/SlaveUpdatePuller.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/1457/SlaveUpdatePuller.java\nindex 4f13f82806d..d1ac41637b0 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/1457/SlaveUpdatePuller.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/1457/SlaveUpdatePuller.java\n@@ -120,13 +120,13 @@ public class SlaveUpdatePuller implements Runnable, UpdatePuller, JobScheduler.C\n         void pulledUpdates( long lastAppliedTxId );\n     }\n \n-    public static final int LOG_CAP = Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.LOG_CAP\", 10 );\n-    public static final long PARK_NANOS = TimeUnit.MILLISECONDS.toNanos( Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.PARK_MILLIS\", 100 ) );\n-    public static final int AVAILABILITY_AWAIT_MILLIS = Integer.getInteger(\n-            \"org.neo4j.kernel.ha.SlaveUpdatePuller.AVAILABILITY_AWAIT_MILLIS\", 5000 );\n-    public static final String UPDATE_PULLER_THREAD_PREFIX = \"UpdatePuller@\";\n+    public static final int LOG_CAP = Integer.getInteger( \"org.neo4j.kernel.ha.SlaveUpdatePuller.LOG_CAP\", 10 );\n+\n+public static final long PARK_NANOS = TimeUnit.MILLISECONDS.toNanos( Integer.getInteger( \"org.neo4j.kernel.ha.SlaveUpdatePuller.PARK_MILLIS\", 100 ) );\n+\n+public static final int AVAILABILITY_AWAIT_MILLIS = Integer.getInteger( \"org.neo4j.kernel.ha.SlaveUpdatePuller.AVAILABILITY_AWAIT_MILLIS\", 5000 );\n+\n+public static final String UPDATE_PULLER_THREAD_PREFIX = \"UpdatePuller@\";\n \n     static final Condition NEXT_TICKET = ( currentTicket, targetTicket ) -> currentTicket >= targetTicket;\n \n@@ -147,8 +147,7 @@ public class SlaveUpdatePuller implements Runnable, UpdatePuller, JobScheduler.C\n     private volatile Thread updatePullingThread;\n     private volatile BinaryLatch shutdownLatch; // Store under synchronised(this), load in update puller thread\n \n-    SlaveUpdatePuller(\n-            RequestContextFactory requestContextFactory,\n+    SlaveUpdatePuller( RequestContextFactory requestContextFactory,\n             Master master,\n             LastUpdateTime lastUpdateTime,\n             LogProvider logging,\n@@ -366,5 +365,4 @@ public class SlaveUpdatePuller implements Runnable, UpdatePuller, JobScheduler.C\n         }\n         lastUpdateTime.setLastUpdateTime( currentTimeMillis() );\n     }\n-\n-}\n+    }\n\\ No newline at end of file\n",
            "diff_size": 11
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}