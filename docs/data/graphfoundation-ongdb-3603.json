{
    "project_name": "graphfoundation-ongdb",
    "error_id": "3603",
    "information": {
        "errors": [
            {
                "line": "1",
                "severity": "error",
                "message": "Missing, wrong or duplicated license header",
                "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
            }
        ]
    },
    "source_code": "/*\n * Copyright (c) 2002-2020 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                },
                {
                    "line": "75",
                    "column": "46",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "75",
                    "column": "92",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "77",
                    "column": "34",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "77",
                    "column": "63",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "80",
                    "column": "54",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "80",
                    "column": "128",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "84",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "84",
                    "column": "28",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "86",
                    "column": "28",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "86",
                    "column": "57",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "93",
                    "column": "31",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "93",
                    "column": "77",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "95",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "95",
                    "column": "68",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "98",
                    "column": "37",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "98",
                    "column": "65",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "112",
                    "column": "23",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "115",
                    "column": "30",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "115",
                    "column": "52",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "145",
                    "column": "39",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "145",
                    "column": "76",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "150",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "150",
                    "column": "33",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "153",
                    "column": "9",
                    "severity": "error",
                    "message": "'}' at column 9 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "157",
                    "column": "14",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "157",
                    "column": "32",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "160",
                    "column": "11",
                    "severity": "error",
                    "message": "'}' at column 11 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "170",
                    "column": "43",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "170",
                    "column": "66",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "180",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "180",
                    "column": "84",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "225",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "225",
                    "column": "24",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "227",
                    "column": "44",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "227",
                    "column": "63",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "228",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "228",
                    "column": "15",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "228",
                    "column": "31",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "230",
                    "column": "44",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "230",
                    "column": "63",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "231",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "233",
                    "column": "41",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "233",
                    "column": "145",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "244",
                    "column": "24",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "244",
                    "column": "56",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "250",
                    "column": "24",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "250",
                    "column": "35",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "252",
                    "column": "8",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "252",
                    "column": "49",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "255",
                    "column": "5",
                    "severity": "error",
                    "message": "'}' at column 5 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "270",
                    "column": "28",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "270",
                    "column": "30",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "273",
                    "column": "34",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "273",
                    "column": "88",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "279",
                    "column": "17",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "279",
                    "column": "57",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "287",
                    "column": "33",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "287",
                    "column": "90",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "295",
                    "column": "19",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "295",
                    "column": "59",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "300",
                    "column": "46",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "300",
                    "column": "55",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "301",
                    "column": "13",
                    "severity": "error",
                    "message": "'}' at column 13 should be alone on a line.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.blocks.RightCurlyCheck"
                },
                {
                    "line": "301",
                    "column": "21",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "301",
                    "column": "48",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "309",
                    "column": "37",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "309",
                    "column": "91",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "311",
                    "column": "36",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "311",
                    "column": "108",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "313",
                    "column": "21",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "313",
                    "column": "28",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "318",
                    "column": "32",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "318",
                    "column": "39",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "320",
                    "column": "11",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "320",
                    "column": "44",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "322",
                    "column": "12",
                    "severity": "error",
                    "message": "'(' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "322",
                    "column": "26",
                    "severity": "error",
                    "message": "')' is not preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3603/SpaceFillingCurveSettings.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/3603/SpaceFillingCurveSettings.java\nindex cff89e6a899..41a2d2c29f6 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3603/SpaceFillingCurveSettings.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/intellij/3603/SpaceFillingCurveSettings.java\n@@ -17,6 +17,7 @@\n  * You should have received a copy of the GNU General Public License\n  * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n package org.neo4j.kernel.impl.index.schema.config;\n \n import java.io.File;\n@@ -67,269 +68,263 @@ import static org.neo4j.kernel.impl.index.schema.NativeSchemaIndexPopulator.BYTE\n  */\n public abstract class SpaceFillingCurveSettings\n {\n-    protected int dimensions;\n-    int maxLevels;\n-    Envelope extents;\n+  protected int dimensions;\n+  int maxLevels;\n+  Envelope extents;\n \n-    static SpaceFillingCurveSettings fromConfig( int dimensions, int maxBits, Envelope extents )\n-    {\n-        return new SettingsFromConfig( dimensions, maxBits, extents );\n-    }\n+  static SpaceFillingCurveSettings fromConfig(int dimensions, int maxBits, Envelope extents)\n+  {\n+    return new SettingsFromConfig(dimensions, maxBits, extents);\n+  }\n \n-    public static SpaceFillingCurveSettings fromGBPTree( File indexFile, PageCache pageCache, Function<ByteBuffer,String> onError ) throws IOException\n+  public static SpaceFillingCurveSettings fromGBPTree(File indexFile, PageCache pageCache, Function<ByteBuffer, String> onError) throws IOException\n+  {\n+    SettingsFromIndexHeader settings = new SettingsFromIndexHeader();\n+    GBPTree.readHeader(pageCache, indexFile, settings.headerReader(onError));\n+    if (settings.isFailed())\n     {\n-        SettingsFromIndexHeader settings = new SettingsFromIndexHeader();\n-        GBPTree.readHeader( pageCache, indexFile, settings.headerReader( onError ) );\n-        if ( settings.isFailed() )\n-        {\n-            throw new IOException( settings.getFailureMessage() );\n-        }\n-        return settings;\n+      throw new IOException(settings.getFailureMessage());\n     }\n+    return settings;\n+  }\n \n-    private static class SettingsFromConfig extends SpaceFillingCurveSettings\n+  private static class SettingsFromConfig extends SpaceFillingCurveSettings\n+  {\n+    private SettingsFromConfig(int dimensions, int maxBits, Envelope extents)\n     {\n-        private SettingsFromConfig( int dimensions, int maxBits, Envelope extents )\n-        {\n-            super( dimensions, extents, calcMaxLevels( dimensions, maxBits ) );\n-        }\n-\n-        private static int calcMaxLevels( int dimensions, int maxBits )\n-        {\n-            int maxConfigured = maxBits / dimensions;\n-            int maxSupported = (dimensions == 2) ? HilbertSpaceFillingCurve2D.MAX_LEVEL : HilbertSpaceFillingCurve3D.MAX_LEVEL;\n-            return Math.min( maxConfigured, maxSupported );\n-        }\n+      super(dimensions, extents, calcMaxLevels(dimensions, maxBits));\n     }\n \n-    private static class SettingsFromIndexHeader extends SpaceFillingCurveSettings\n+    private static int calcMaxLevels(int dimensions, int maxBits)\n     {\n-        private String failureMessage;\n-\n-        private SettingsFromIndexHeader()\n-        {\n-            super( 0, null, 0 );\n-        }\n-\n-        private void markAsFailed( String failureMessage )\n-        {\n-            this.failureMessage = failureMessage;\n-        }\n-\n-        private void markAsSucceeded()\n-        {\n-            this.failureMessage = null;\n-        }\n-\n-        /**\n-         * The settings are read from the GBPTree header structure, but when this is a FAILED index, there are no settings, but instead an error message\n-         * describing the failure. If that happens, code that triggered the read should check this field and react accordingly. If the the value is null, there\n-         * was no failure.\n-         */\n-        private String getFailureMessage()\n-        {\n-            return failureMessage;\n-        }\n-\n-        /**\n-         * The settings are read from the GBPTree header structure, but when this is a FAILED index, there are no settings, but instead an error message\n-         * describing the failure. If that happens, code that triggered the read should check this. If the value is true, calling getFailureMessage() will\n-         * provide an error message describing the failure.\n-         */\n-        private boolean isFailed()\n-        {\n-            return failureMessage != null;\n-        }\n-\n-        private Header.Reader headerReader( Function<ByteBuffer,String> onError )\n-        {\n-            return headerBytes ->\n-            {\n-                byte state = headerBytes.get();\n-                if ( state == BYTE_FAILED )\n-                {\n-                    this.failureMessage = \"Unexpectedly trying to read the header of a failed index: \" + onError.apply( headerBytes );\n-                }\n-                else\n-                {\n-                    int typeId = headerBytes.getInt();\n-                    SpatialIndexType indexType = SpatialIndexType.get( typeId );\n-                    if ( indexType == null )\n-                    {\n-                        markAsFailed( \"Unknown spatial index type in index header: \" + typeId );\n-                    }\n-                    else\n-                    {\n-                        markAsSucceeded();\n-                        indexType.readHeader( this, headerBytes );\n-                    }\n-                }\n-            };\n-        }\n+      int maxConfigured = maxBits / dimensions;\n+      int maxSupported = (dimensions == 2) ? HilbertSpaceFillingCurve2D.MAX_LEVEL : HilbertSpaceFillingCurve3D.MAX_LEVEL;\n+      return Math.min(maxConfigured, maxSupported);\n     }\n+  }\n \n-    public Consumer<PageCursor> headerWriter( byte initialIndexState )\n+  private static class SettingsFromIndexHeader extends SpaceFillingCurveSettings\n+  {\n+    private String failureMessage;\n+\n+    private SettingsFromIndexHeader()\n     {\n-        return cursor ->\n-        {\n-            cursor.putByte( initialIndexState );\n-            cursor.putInt( SpatialIndexType.SingleSpaceFillingCurve.id );\n-            SpatialIndexType.SingleSpaceFillingCurve.writeHeader( this, cursor );\n-        };\n+      super(0, null, 0);\n     }\n \n-    private SpaceFillingCurveSettings( int dimensions, Envelope extents, int maxLevels )\n+    private void markAsFailed(String failureMessage)\n     {\n-        this.dimensions = dimensions;\n-        this.extents = extents;\n-        this.maxLevels = maxLevels;\n+      this.failureMessage = failureMessage;\n     }\n \n-    /**\n-     * @return The number of dimensions (2D or 3D)\n-     */\n-    public int getDimensions()\n+    private void markAsSucceeded()\n     {\n-        return dimensions;\n+      this.failureMessage = null;\n     }\n \n     /**\n-     * @return The number of levels in the 2D (or 3D) to 1D mapping tree.\n+     * The settings are read from the GBPTree header structure, but when this is a FAILED index, there are no settings, but instead an error message\n+     * describing the failure. If that happens, code that triggered the read should check this field and react accordingly. If the the value is null, there\n+     * was no failure.\n      */\n-    public int getMaxLevels()\n+    private String getFailureMessage()\n     {\n-        return maxLevels;\n+      return failureMessage;\n     }\n \n     /**\n-     * The space filling curve is configured up front to cover a specific region of 2D (or 3D) space.\n-     * Any points outside this space will be mapped as if on the edges. This means that if these extents\n-     * do not match the real extents of the data being indexed, the index will be less efficient. Making\n-     * the extents too big means than only a small area is used causing more points to map to fewer 1D\n-     * values and requiring more post filtering. If the extents are too small, many points will lie on\n-     * the edges, and also cause additional post-index filtering costs.\n-     *\n-     * @return the extents of the 2D (or 3D) region that is covered by the space filling curve.\n+     * The settings are read from the GBPTree header structure, but when this is a FAILED index, there are no settings, but instead an error message\n+     * describing the failure. If that happens, code that triggered the read should check this. If the value is true, calling getFailureMessage() will\n+     * provide an error message describing the failure.\n      */\n-    public Envelope indexExtents()\n+    private boolean isFailed()\n     {\n-        return extents;\n+      return failureMessage != null;\n     }\n \n-    /**\n-     * Make an instance of the SpaceFillingCurve that can perform the 2D (or 3D) to 1D mapping based on these settings.\n-     *\n-     * @return a configured instance of SpaceFillingCurve\n-     */\n-    public SpaceFillingCurve curve()\n+    private Header.Reader headerReader(Function<ByteBuffer, String> onError)\n     {\n-        if ( dimensions == 2 )\n+      return headerBytes ->\n+      {\n+        byte state = headerBytes.get();\n+        if (state == BYTE_FAILED)\n         {\n-            return new HilbertSpaceFillingCurve2D( extents, maxLevels );\n-        }\n-        else if ( dimensions == 3 )\n+          this.failureMessage = \"Unexpectedly trying to read the header of a failed index: \" + onError.apply(headerBytes);\n+        } else\n         {\n-            return new HilbertSpaceFillingCurve3D( extents, maxLevels );\n-        }\n-        else\n-        {\n-            throw new IllegalArgumentException( \"Cannot create spatial index with other than 2D or 3D coordinate reference system: \" + dimensions + \"D\" );\n+          int typeId = headerBytes.getInt();\n+          SpatialIndexType indexType = SpatialIndexType.get(typeId);\n+          if (indexType == null)\n+          {\n+            markAsFailed(\"Unknown spatial index type in index header: \" + typeId);\n+          } else\n+          {\n+            markAsSucceeded();\n+            indexType.readHeader(this, headerBytes);\n+          }\n         }\n+      };\n     }\n+  }\n \n-    @Override\n-    public int hashCode()\n+  public Consumer<PageCursor> headerWriter(byte initialIndexState)\n+  {\n+    return cursor ->\n     {\n-        // dimension is also represented in the extents and so not explicitly included here\n-        return 31 * extents.hashCode() + maxLevels;\n-    }\n+      cursor.putByte(initialIndexState);\n+      cursor.putInt(SpatialIndexType.SingleSpaceFillingCurve.id);\n+      SpatialIndexType.SingleSpaceFillingCurve.writeHeader(this, cursor);\n+    };\n+  }\n \n-    public boolean equals( SpaceFillingCurveSettings other )\n-    {\n-        return this.dimensions == other.dimensions && this.maxLevels == other.maxLevels && this.extents.equals( other.extents );\n-    }\n+  private SpaceFillingCurveSettings(int dimensions, Envelope extents, int maxLevels)\n+  {\n+    this.dimensions = dimensions;\n+    this.extents = extents;\n+    this.maxLevels = maxLevels;\n+  }\n+\n+  /**\n+   * @return The number of dimensions (2D or 3D)\n+   */\n+  public int getDimensions()\n+  {\n+    return dimensions;\n+  }\n+\n+  /**\n+   * @return The number of levels in the 2D (or 3D) to 1D mapping tree.\n+   */\n+  public int getMaxLevels()\n+  {\n+    return maxLevels;\n+  }\n \n-    @Override\n-    public boolean equals( Object obj )\n+  /**\n+   * The space filling curve is configured up front to cover a specific region of 2D (or 3D) space.\n+   * Any points outside this space will be mapped as if on the edges. This means that if these extents\n+   * do not match the real extents of the data being indexed, the index will be less efficient. Making\n+   * the extents too big means than only a small area is used causing more points to map to fewer 1D\n+   * values and requiring more post filtering. If the extents are too small, many points will lie on\n+   * the edges, and also cause additional post-index filtering costs.\n+   *\n+   * @return the extents of the 2D (or 3D) region that is covered by the space filling curve.\n+   */\n+  public Envelope indexExtents()\n+  {\n+    return extents;\n+  }\n+\n+  /**\n+   * Make an instance of the SpaceFillingCurve that can perform the 2D (or 3D) to 1D mapping based on these settings.\n+   *\n+   * @return a configured instance of SpaceFillingCurve\n+   */\n+  public SpaceFillingCurve curve()\n+  {\n+    if (dimensions == 2)\n     {\n-        if ( obj instanceof SpaceFillingCurveSettings )\n-        {\n-            return equals( (SpaceFillingCurveSettings) obj );\n-        }\n-        else\n-        {\n-            return false;\n-        }\n+      return new HilbertSpaceFillingCurve2D(extents, maxLevels);\n+    } else if (dimensions == 3)\n+    {\n+      return new HilbertSpaceFillingCurve3D(extents, maxLevels);\n+    } else\n+    {\n+      throw new IllegalArgumentException(\"Cannot create spatial index with other than 2D or 3D coordinate reference system: \" + dimensions + \"D\");\n     }\n+  }\n+\n+  @Override\n+  public int hashCode()\n+  {\n+    // dimension is also represented in the extents and so not explicitly included here\n+    return 31 * extents.hashCode() + maxLevels;\n+  }\n+\n+  public boolean equals(SpaceFillingCurveSettings other)\n+  {\n+    return this.dimensions == other.dimensions && this.maxLevels == other.maxLevels && this.extents.equals(other.extents);\n+  }\n \n-    @Override\n-    public String toString()\n+  @Override\n+  public boolean equals(Object obj)\n+  {\n+    if (obj instanceof SpaceFillingCurveSettings)\n     {\n-        return String.format( \"Space filling curves settings: dimensions=%d, maxLevels=%d, min=%s, max=%s\", dimensions, maxLevels,\n-                Arrays.toString( extents.getMin() ), Arrays.toString( extents.getMax() ) );\n+      return equals((SpaceFillingCurveSettings) obj);\n+    } else\n+    {\n+      return false;\n     }\n+  }\n \n-    private enum SpatialIndexType\n-    {\n-        SingleSpaceFillingCurve( 1 )\n-                {\n-                    @Override\n-                    public void writeHeader( SpaceFillingCurveSettings settings, PageCursor cursor )\n-                    {\n-                        cursor.putInt( settings.maxLevels );\n-                        cursor.putInt( settings.dimensions );\n-                        double[] min = settings.extents.getMin();\n-                        double[] max = settings.extents.getMax();\n-                        for ( int i = 0; i < settings.dimensions; i++ )\n-                        {\n-                            cursor.putLong( Double.doubleToLongBits( min[i] ) );\n-                            cursor.putLong( Double.doubleToLongBits( max[i] ) );\n-                        }\n-                    }\n-\n-                    @Override\n-                    public void readHeader( SettingsFromIndexHeader settings, ByteBuffer headerBytes )\n-                    {\n-                        try\n-                        {\n-                            settings.maxLevels = headerBytes.getInt();\n-                            settings.dimensions = headerBytes.getInt();\n-                            double[] min = new double[settings.dimensions];\n-                            double[] max = new double[settings.dimensions];\n-                            for ( int i = 0; i < settings.dimensions; i++ )\n-                            {\n-                                min[i] = headerBytes.getDouble();\n-                                max[i] = headerBytes.getDouble();\n-                            }\n-                            settings.extents = new Envelope( min, max );\n-                        }\n-                        catch ( BufferUnderflowException e )\n-                        {\n-                            settings.markAsFailed( \"Failed to read settings from GBPTree header: \" + e.getMessage() );\n-                        }\n-                    }\n-                };\n-        private int id;\n-\n-        public abstract void writeHeader( SpaceFillingCurveSettings settings, PageCursor cursor );\n-\n-        public abstract void readHeader( SettingsFromIndexHeader settingsFromIndexHeader, ByteBuffer headerBytes );\n-\n-        SpatialIndexType( int id )\n-        {\n-            this.id = id;\n-        }\n+  @Override\n+  public String toString()\n+  {\n+    return String.format(\"Space filling curves settings: dimensions=%d, maxLevels=%d, min=%s, max=%s\", dimensions, maxLevels,\n+        Arrays.toString(extents.getMin()), Arrays.toString(extents.getMax()));\n+  }\n \n-        static SpatialIndexType get( int id )\n+  private enum SpatialIndexType\n+  {\n+    SingleSpaceFillingCurve(1)\n         {\n-            for ( SpatialIndexType type : values() )\n+          @Override\n+          public void writeHeader(SpaceFillingCurveSettings settings, PageCursor cursor)\n+          {\n+            cursor.putInt(settings.maxLevels);\n+            cursor.putInt(settings.dimensions);\n+            double[] min = settings.extents.getMin();\n+            double[] max = settings.extents.getMax();\n+            for (int i = 0; i < settings.dimensions; i++)\n             {\n-                if ( type.id == id )\n-                {\n-                    return type;\n-                }\n+              cursor.putLong(Double.doubleToLongBits(min[i]));\n+              cursor.putLong(Double.doubleToLongBits(max[i]));\n             }\n-            return null;\n+          }\n+\n+          @Override\n+          public void readHeader(SettingsFromIndexHeader settings, ByteBuffer headerBytes)\n+          {\n+            try\n+            {\n+              settings.maxLevels = headerBytes.getInt();\n+              settings.dimensions = headerBytes.getInt();\n+              double[] min = new double[settings.dimensions];\n+              double[] max = new double[settings.dimensions];\n+              for (int i = 0; i < settings.dimensions; i++)\n+              {\n+                min[i] = headerBytes.getDouble();\n+                max[i] = headerBytes.getDouble();\n+              }\n+              settings.extents = new Envelope(min, max);\n+            } catch (BufferUnderflowException e)\n+            {\n+              settings.markAsFailed(\"Failed to read settings from GBPTree header: \" + e.getMessage());\n+            }\n+          }\n+        };\n+    private int id;\n+\n+    public abstract void writeHeader(SpaceFillingCurveSettings settings, PageCursor cursor);\n+\n+    public abstract void readHeader(SettingsFromIndexHeader settingsFromIndexHeader, ByteBuffer headerBytes);\n+\n+    SpatialIndexType(int id)\n+    {\n+      this.id = id;\n+    }\n+\n+    static SpatialIndexType get(int id)\n+    {\n+      for (SpatialIndexType type : values())\n+      {\n+        if (type.id == id)\n+        {\n+          return type;\n         }\n+      }\n+      return null;\n     }\n+  }\n }\n",
            "diff_size": 352
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "diff --git a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3603/SpaceFillingCurveSettings.java b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/3603/SpaceFillingCurveSettings.java\nindex cff89e6a899..67ca9bf7862 100644\n--- a/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/errored/1/3603/SpaceFillingCurveSettings.java\n+++ b/home/fernanda/mnt/fernanda/git-styler/styler/python/experiments/results/graphfoundation-ongdb/naturalize/3603/SpaceFillingCurveSettings.java\n@@ -84,7 +84,8 @@ public abstract class SpaceFillingCurveSettings\n         {\n             throw new IOException( settings.getFailureMessage() );\n         }\n-        return settings;\n+\n+return settings;\n     }\n \n     private static class SettingsFromConfig extends SpaceFillingCurveSettings\n@@ -272,7 +273,7 @@ public abstract class SpaceFillingCurveSettings\n     private enum SpatialIndexType\n     {\n         SingleSpaceFillingCurve( 1 )\n-                {\n+{\n                     @Override\n                     public void writeHeader( SpaceFillingCurveSettings settings, PageCursor cursor )\n                     {\n@@ -309,7 +310,8 @@ public abstract class SpaceFillingCurveSettings\n                         }\n                     }\n                 };\n-        private int id;\n+\n+private int id;\n \n         public abstract void writeHeader( SpaceFillingCurveSettings settings, PageCursor cursor );\n \n@@ -332,4 +334,4 @@ public abstract class SpaceFillingCurveSettings\n             return null;\n         }\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 6
        },
        {
            "tool": "codebuff",
            "errors": null,
            "diff": null
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "1",
                    "severity": "error",
                    "message": "Missing, wrong or duplicated license header",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "",
            "diff_size": 0
        }
    ],
    "repaired_by": [],
    "not_repaired_by": [
        "styler",
        "intellij",
        "naturalize",
        "codebuff",
        "styler_random",
        "styler_three_grams"
    ]
}