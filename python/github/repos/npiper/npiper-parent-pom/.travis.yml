language: java

jdk: oraclejdk8

branches:
  except:
    - /^[0-9]/

before_script:
- git config --global user.name "${GIT_USER_NAME}"
- git config --global user.email "${GIT_USER_EMAIL}"
- cp .travis.settings.xml $HOME/.m2/settings.xml

script:
- mvn clean install -Drevision=${TRAVIS_BUILD_NUMBER}.$(git rev-parse --short HEAD)

after_success:
- test $TRAVIS_BRANCH = "master" && test $TRAVIS_PULL_REQUEST = "false" && mvn site deploy scm:tag -Drevision=${TRAVIS_BUILD_NUMBER}.$(git rev-parse --short HEAD) -Dusername="${GIT_USER_NAME}" -Dpassword="${GITPW}"

env:
  global:
  - secure: Er0ptzW0edyc0QY1/uB+ndkj6+z/d5z0GreqjhF1GaTU+EehywHYvdPT+oQ93rN7RLj9K20RP5L3ZA1CjXOPlfEL0p0fWo8Fs96LVDKlaGe/AfOCxhPXpFBFBTDc62vYWfPWUAA8971ASSc9bQCEpttpW8j7Hn58qDbjdqmHpBBn3XJ4hIxr3scDHXdf1mbIBC1fXGJw4vMcAkemj3uH+1g08ekl/92FkGH+V/WunSfDM2yOVdo/KlDWKzxzOyJvbHF3Vl8pIyFFUGKP1nu0iX5Gh9QFiWciesNML4OybsLdHUZWKxyXtFSw5DBxQ+YwE3ZwRRty9HI6u2TeRxNU4MdjnOfKLS5cbkhJ0N9FoAomgdRxXpqeQr0r797wC4ImECDTcWhBoFtU80UITJxnStMYLMz0LkFH8RPsmmCQ3WNQUPACvsYHEYaczaLE171UollAhXQ9fZOirmTatLn1xbUqhfxD1dVK0RjKzYlv9taGe5kwoi+pFNb2mOMesjgrkdDnFj4D5YybbnfzHEnD8AnFnbWsDQN6dy1uy1tkfaPowQzKpy5AZRFCW5mb0MNqS7w7/CN1630POigSaL7Eo01aKepA22Wxn0dcxdN50P3MPlX8k49ayoq25yKfV08ww6RhMa5S685JESjKw7+vrqWiqNcJsaM+wxyYBjgM8uI=
  - secure: DUMH0p5OO08BmZ5Gv7OjFpFN8wRhUi1LPKNhgsIB7jWaJHd+bgDBEjB853inI4MlPT3fLoaB5UmRdkdvqS1pM9p8xRwK5l3SO5ZUhKHjFJGfnKbda/q43m0VvPfbzPhOS5GdCr0v2uHXWLhPqqflaBKB3mXa8g8yjFyiMxr8mTw5PKj9UO+NS3qc2dTslA2aJOMGuKSnYWWxhcNJX1DmOrWbemJc/0CiBpXkmO/TgoxBSBhcyaFy5mPeSEq3REUH5sLfbbgVd2jLCn8G2tWLMrrnrseXkPIgg8SRZ6gXQzbuHY0sIkN8Dk6RZ6vn8DOFw3UZfNv5Zl5VqQullrWGQ27Hlfr1VszkdXtnAjWIFtR9RKsT1dc7wzCrt7K5uRDkmwSOfpfGnI5bAqRheVpO5swg+HVzTPzcCJTSDgXKKQUJSPUJVkad8d6lDunrklrnS7EAKgKORflRB9+fYSvQpGyKAhbT0STMp0pYuP96DsqW5uiwne6yzl9UJMnnOs73ptgZFbbsan7ZMe9JCQUSduDWeQUnY1qPVGBoBkcql5s+1AfHNrzIqCiPJybN+2vSlgmc3/Ou4P/xmSPjzk4JRpm1LTPYIkli4Wrz+lDZccJr+iJiH3X191NSnZA3X18cyqOLiqD88LyMUM6s2NS6naxFzxcORtirAgv7oDAazok=
  - secure: SklGrkcU5gn6qWlY8UxzyE1ensqz0cld9tjC1L9H1sVIidfiqfvu70mGcmVXDusGuxj0HLpR3cCO8gSy+eusceO6c08fhnwT5RFWOqKiodGeLBlaPAEdcChCBFECgWpDDYCT2qaR8Nw/2sZdKUVPurdUPBu0JYP72o3lH2rD/Cc8MLgAETnnqGUJbNomRIMnGu+nknWI2QlLlnKmaCPZBT+bJ2iYvunxAQFS2xKb//ApJ1gVG0QJ21C53q3cCuSRDrcT7IIU4UxHps0TaB4esWtxombkZE5XArJSWpp4I97eove11vo9JqtexcywM4bQED5tVbizzlYhqLfEKqjmUKCAv7s28m3GeSeHmspDADTOgdlp8reTW0y/7HJBnZFcu6GcOU6xAouBWlxho2lq9X42CL8FoNtnlWYh+Db3gkc7uKBBChBUa40HwLVBXTt2ZbtXgt0n96oxmXrPpmPsvyFMVi4b6OaP3WyZIOm4ZcqaqJLd6rOVgAsD/Gct2sxKEg/o2HYm1Lkff1JgnRcP05WjlHb/h5ddHVWgOxb3QZ+hxyvydr4huyvO2QQgQvmvueclemQzSc8QXFfPa1NsUG6h8NBcGdmNVTqp1+7eLuycJPCUbAXOCtKt3acY2Jff9x+y8HLyJBdtXk/Gt5uUyTvyCx8U0PElg3/VcB/SLuo=
  - secure: tsiJxesrvUMQnVn3kakCfRFF0S4M+8470sOclfoywxpM1hI/yAlsYCuQBZRgsWvo3AZ8bBu+jmDowa3cHF6bggq8y2nlgKVoccZgQoqny+DWuGQcNp5rEQpc8KeLvCZm0o+M3yuqn46Rqff/dks/xfiIXB7wXgI5PKoF3SV2MPYNHi6gmhu4McVX3MOvJygImN3D5mlw/h4AJ4s4Shyf1XabFQbKjMPDyXlhuEjj6zIiUSQeLqZz4DkOJA3lr1zXX5WsIVQZ6YopOGXTsXNHoXzExmwOxYydeefm4APjX5LeHAHXcbh7nwf7eCIqY/vcYkAhkn5gJ8/rvbc1Fw6qNGuWrDWFhMAJNbm4NtKCD1hsQ0Mqtu95E33hJ7D1TOyjbg0xaRlaz/MO+KXSTKEnak3gVPDd1SN21ZFWZUhcWcT84yhy9Wu25OImvVetwRsrxhTEtNVycFe/WLJVJUcJgMl2Dp+eSqdXUWKA0UoqnxAMHpsL84lxaD/w0wl0p37r3Ryz1xVtfqaafIBeR4AZoZWFBySe79mEnQfWNa+dtUmzgPctYgBFGo8sDwm3P9UM+eKATnrtYEnZSOsatrOFB2KpX1YKMu8r/bSYBb3NPtqVDF3UZO1Zn/DBuXbJ5aeCF9ZptJ0VbncAgotfXj0s77auSQqMts0yATxA8X+27Z0=
