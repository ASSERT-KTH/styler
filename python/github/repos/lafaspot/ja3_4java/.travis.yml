branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: esOMzIo6Hy+bwHOzfDegtY7/3qYUROelxAd2vP2/p2LkVaiFckIU3dMzXowgbVb+IdRgJ7vz9duCJmTTD6YY7dE6c+rCHhan4ehnDKSiv8nQyBSxjK6tPdnXQ1jF5+GxDHxFFyhNqH/UTihGIIuwz9LqpduH2im3YQs+E5BQ4zEfenJxSYarfvWjWcygjzSTlXwBR4mqlkl//Y05e92Q89oEXwh6KmwF4ggztI1ZdT0CDCqmPcfJqLH/4CJ0ns9EcfzLe4EZNRvFx3zw15OF8lhJeHgUwbvdxGcFRKzuKSwHy3fDWl10EaHio31Mwr9+tdxQuKspJ17JoKWcwsEVEe6AfcsFDTAoiOtgbaGQC8l/IKDscXlFH+/X7euZZBY4BRgIUKJZ7URIto7lUzLuHGOURQOw82SZjegxcQC0vTufjDiPt+XUINL5eIohbQL1mNyySJ/xynewGOToelQpvk+tLGmIYlmxJi7t4SaYIx2hPC5O6CqCMMZiBJiTlMJKLbLeVLPmcJ0dCAJ3NudDKURH48SDnANsK1UAiweELI3k9YFEoCg9YbXiey6ftq+xZA56UvbDHzVmc1dzqdO4Ff0FBaJFLZI2+zp9eXXozmpG2vfv/CQxX+Zc2HqpCjtuKeIQckr4qKCej5KbU+2sQZZKy67PQR2vRzEUecCMOJw=
  - secure: HEi02htW4Mdv9Iu2svpMZ5BZP2uadYqPBwrm72YujfReNir3XUiZHp/pdS/8DbujTvC1kJTSH2Yp9XJiDkcwVLfkg6ioswmEt9gSOh8rmKPZqm8j1pie2EEiyQpx4dRh+9q/70mf0D/T5lta3F9J+H9mtUINfVlqrYsToAUiJpVFep0q4q/Hdwe507fexSzsZvWr7l3qQVB+ZCTf0gNGRWQ915WzjRrNVPtFH/OgVi2Fqm5kx7h9BZ/LH60PgSAbP/mpAA/aAuZoztwX9xvwgs3aMZyGAlDc5cFkKgPLDNJoTxMDM/0amVOdJ/QK691uIcCIobT01onAHnws/RYm+X79GqViICjRDFhBwXFNIywxguuyPuS6gHYUyX7VK5g5hsLMSkMG8ASjh5ZQf5FQuF5eBsiiIkbrU0CoypqCxS/BQGxMGducj4be+3xJI8s+ZCGV62BH3QJXdOeqWZypwYA30Pzp9HpPj6TGchD8fhr04iUkGmlDS9UAPsbpwaeOjsmiBYDidSWC0hDvqgAhYbCMYnK9lRMwBG/QMEZ8Y00tMBb8cImPRCc+MklzEfOrVYOglSL8F3QiulsMQSO/qqF3chhkPMxGAY4jfra/uI0h/XjjDGTTUy6OCuH/4L98xaXhfPaTBJYBqNg5GdhHj8qvJ7PEixmVhCbMxZT9fQo=
  - secure: L53ICaoLl1xkXDF4seC71RcHhJycJZ/wQenmIVumjL/G/5XzBpQd3BOBxFCREygvArgxH3YgTsbgMQvYyfKVmPJz19Z+gfpA0qBVXAVhdExgfaEf3ZKiWo0nNg8yQnNxDMg3SUaEXrgzKT4ujrHanlqM9WAYLm4z+IGqP0ZKnc8JWafg3JkZkR4yJSdedxw2MP2kEnEVxBHwhD9LhF8v0KC3EKuuw/ETnyBcf5oddi0GOUOPtn3mWFdJqqswpBWvP3c93syXlhd9GZ5mQkuY6lL60qtb/pN5/QQha1mZ5Mtseb+XjA9dOaH0YkgBSpHcOcVUNCY9lzII5O7krfz65ZJcyoaufy7UYri5gCNOhqlQsPVDjX2bU4DvM9czI5whfWsZR73o/TVqZkfJosaKSLossKLp1o2hPuWT9/Fx4tG8k4IQMsR2quYG+6LWpTWWc9uQQZsY4aURI5tWlKr3+b2elDetZ2i0X7wUtg/x0mEl7ePjVaesG1v7hUsMNuBteXei8UiTHIXmv9XIezbdq/XM9xFDprBfBOCdGm7NSfc5CwGvu1IehPe3nZHsl7MgzxNe9Er+gDN+oNA6B7W9xicMxg6UHbKyG+Yr2qruJSY+LhAO7UEvxRG6zmERj/5Re8lVqo7ACRF080r7WuMNSFilvbD3DBPjVwe8MgdwizQ=
  - secure: FZ9y97539ODRw7XngztgouCewagGrgHQXOiJGFD1sgCxKZ4cr2CBokOWFfBzqtxNeOQXh9Flp5TLQqNM2u+KljeR2XY9R59NUsBaoxWq1ZPmAxLA4JBJB7CyWOf4sBYrlVOGSmGlYcTAJU2Jh6N1V80CKnUJfIpjd6aq9ySYI6FtUXsTgEKDQllJ42d79aYTudTmCl0w6LBlruN0jCE/iWDYDnnGWbpBP7haw6+x4ULQf725l1rt9OtyXrOR/6MNecnCV5hry/34VKEFPIok8zptupZJW/1kob+iJ49lOLjRL0db8p7SFQOEpMcDPJwsDZ0+963mY6+tlXrPeQ8HkRKXMGrSJHpe1hjFBRM9zi2W72K/fjY0CEQglZ94AOBO6CheL21KGTkjpq13p6cxSacqN15orz3PRmdRTw+HTmiSOEqF6TZ8r2EbREph3POBNQ8UGQyMd8kXLYKUH8Ylg1jhsNTjp3tayPgzXe9555BfnIhedaKAG1RNK6wCb50CEwAMhMh/r+KIucSbdpMMGwMtiyNHZiQMeiAUgdHH9U5Sb/n8gAQahwwahtOFXj2Prvp5Oq9dNEs2yta01MuQIQoQ+MmcT7+/Q/lQxPplvQmBAznyBKaODJ6nyX+j4RYu/V/G1HIiCjiLETykPuKJrD6/WYbToB6pVBfuaNqQ1C8=
jdk:
- oraclejdk8
before_install: 
install:
- mvn install -Dgpg.skip=true -P !build-extras -B -V
before_script: 
script: mvn test -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure: 
