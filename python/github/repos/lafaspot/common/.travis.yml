branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: 21rG1qolmtXJvYWhx9le8xev1lTf63E3R+OrnPE4Lavf9Es1jFzlWw3vx8cQullOjVZVBDmFl+2tGqN0wDoOBS8kuAnwgwYvd4ZTmr3R7UUeOymssnO2zipTTxlQ4Dgqo1CUBa/p0VwlM3WVZLqzV5DJMmlCCtQWpFg0RzCIc6/miMg7nt7RsCmUnpYGboB29tN5zS/7VSdxbYQbqqQQjBdN7PgkZMTj9ZrGIKUiB4aOYykN44boJ8KgnsUxWsvR1GaeC57mZl+pODpn0JhWT9C4UpBYtrV0lHEQZK82Bvrwhr3w6yRrxdgpaQHIWcRwYfJz2hBL8TFOGhBL8PYSnfCRnHyiaRnmDH6pyA84os7ghH+IiolDaZUdBc+xbKKsP/Fi7tR1hKTBjzQUVC+G34tcRvbTjKNY4b8FPjh34pETt7PTovxhqD0IvWe384vDl+1pPhB4Vqd867ewPP8letm9DhfQ5L64f/2IDJG2Y8GB3GCnbFOPnrwiwpkFWEptsi+cn2hIHb/np0Vg095EArICB/2T+srcO/IjzrLsKvRB4/Z9XJBhRLogcl7HkPVa2x8YHe+bPAhImwjfT40RhTnvmiN/MQGdMRk7LrlTXDTMhXj+Td4JHeLZ3jGoO0PAF8cOdVJa9AxQ/1g88DQdhb9VYJQAuSnyplOnL2xCKL0=
  - secure: C/V/8pbs4IK/tpw5SQvE3M/wPBKrBLVziTzBFABV7XEH0WV8si5Y9cmtAUgmhHwSfOm2W/9TeLWJQ6AMZJo3eUZoOtDzq5CSyktEAqMfyQ7MbdI2i+OkzoZ8La+rHhgAyUTgkKobOxXwXDdGaGt53j9VmbSl86f+ZL+bdJtECJ+J9HVuAi2Hxd+g/4SbQN0mKu4X4hA55EM0RpDhNvjyaL84SMFtY1Q5yX/X2pdfcFJoiCjwDp5DB6aPe2T9fiY1Xwc4cecMem0x3/6GrzlNor83tTub94EJ/l544KJaSCI7wLhgXcoM8YwRnqV4TcQHgFa8KFRxDpkoZ6QFAEKLa/DBY0wE9pQTigw0ko1AbIr/KsiCwpTx/w2KYHRpxSvSu/dWJSRL8po+jMxMJnYmo+ap6nuIplHJw+tuJPatngDkW4hw9GhCTXtaTwSp9HDxJ8WeKGDNNNu4bAvQj/O7dDGJKSkSod5wVFgHl+1OLbPcz+i35GawZEwOyHE+v9NrT2e3S6+8dgNWH9RNvjeLY7sQZ/YviIKWZfmJbGwY+AKE/6YgfIAv/pvu8hD0BgoWA8OF/6lSvBc82CuLMUTiPDAAwp9YxUu6BDuM+FJA2OSS0g1/atAs09nwa4j4ZMCt8tt8aZpcoY0sXYQElIoMsfJgx8uMl+PhDODPXRwjFo4=
  - secure: oNf74xiyK4TgULQ9vCaOeMv2fiLM7GZRqMGv8JRc8hHEZZCsrhY5KuUO3MWLoHqsdBnLIH9KbqtgRgiSLmBB4QJHHgoW9phomgb/Wvyji54ADMweIpPj5KKVhd/LxWLE0EXsvVIKWLQI9C0nilwTwYfaQRVTjM8CSKgu/gTCtrDlWlSIpwc/6HZLEq/KLrhbRxH9HEcm2rxY2nWm/6HcvrdzVi6xBvk1x5yBZ/H9vh2cPMC6s+G5UOeS/xc3x+yLv8eUbNdcAsl9Gn62jAWoHQPhGL39DFXCjwKdVKE0BfAMqhgGkq3ohGOFBevhe1BpfxB5MkWSpPOhnTPl1WLd4ZZakn4SlIPunI8lyreEZyrf2vSTaClqXkRqBy97vcZLHZLppc9MyNb7BBPRMOZGeTySZ/iXUbvtfieSd6JqXKCo8jP2D7g/Fx4zgMqnhyjZ76oJwGJP51NiVOwqMG4RaEGqiQ111ADxB9VnDoR2IkSnYlt6UMsx/U0kJUpEX6H+ddAy3NGm8/kEvRMCK/Ir56pqMQFent3/SCrKTkXNFhyQyvaY6xG4ftZ0yPGel7NQh8pPIRJxue+iJnCBj3yfpRvDH5iVj5fItauQ/XEv+XI/m51M7p2MdiTQ/C/MtR4moEbWJKoBFHBy/xg3HR6cdrdyHfVzrav7+yVIlHPG35E=
  - secure: xwOYbpXBOEEcZ6cNvCMx+4LOZ000xsBxEDOhN2z75JnhricXtuBvFayUAUAoCyKVbQYAjO4AVZGXUhC/CXQoC83BXShllCl0BOFjSyDi0pBODBf94vxpbEwbbHKISz6b8y6FOSQ88zbWCz2L4xqD8zeYoZzebvckzVlHQZZR8Ol0Z6kKcPPDE9jXFnMY3K8Bi3cwe3W2ok0DNszuo/fijDY8/hoqGsm0lQnWX4sCQyB/tNxRufzynv9Rp1/FfmPnxs8BguoMTCeu3p/1mdGAI0zS3iUSold21FNuz6L7L/oOJG2OhCekpgWddMYllNvdoK5yhEIzLIOAV2M801BYTalruACu0ieDi5Htnx5jEYlF1b0SbMKLARoCXp2tbb6NNZyUSkoztk4oHm5oxmPUr4gplv0qoypQmiDjTGq+ANaTFAPWpgorJ7KqL6q06uPm1r7hcuEOQlBJ7eUOsepqUYPoT3x08eJmZ6rFeA0zGzZeQUtINGrcBj2XjD7kcavt+p20BPJ0sKhZlez5MVqYTUJzjP6ZbOTZCEH0JfpR9wSyz97GODQN6g1F1qionEndyn/iW63MAW2bjWgnJvBb79D4u3tWsu+3iMLhSYB7Frbvq9sXvNuQA4HjPXfy4Q5r70zlw7yEEr8z/FmDhD2WAKTIQDdU5gZXlkr6D88QVQg=


jdk:
- oraclejdk8
before_install:
install:
- mvn install -Dgpg.skip=true -P !build-extras -B -V
before_script:
script: mvn test -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure:
