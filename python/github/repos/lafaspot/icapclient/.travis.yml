branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: KGyRPOC4Vu+OinFDInQmGYquNqd1utoKLU77t9pqkovMUb6m1TCgUJoaOB11bRcmzXqdSVGdEraaJ9CUUML6lXyi4dFA3jMy9UBKnepDd0X8wr6qWOVOMy3Ds7hmZ4zYre8ByN2x9h3RMSJxKsJTD/LAuakjRLGU4KqkgvyxiduHpP4OV17ml810jfgJ7wbduNOYtMwjT5lT1LDW+7jMqJTcD2F1IerBfLMQdK05o2IIGdcLK3d/n85JMpsL8+RyAuRibQ3HIZUMMNNeMPuE+qs2V4uYVUv1l2QjWrGNjioWN5vgpJZ/RxNBWwdZGtXve/SUpU+8OuFIhoP+7khlJ5Qmet3Ig0PevYBD9UAY/qucUbCgb2Kam3AqKsx5bJ3IihL2c6lecTnQdjEHmOfojHC4PLkZSj0Z4atO/vCTXBZPmzW8Oj3CXEFFJtp3HdA6JFLa+2xrksS14wkLOUA1lSagxevhlsPK13Z3MMw5w++XQQUoh/6b67EX6gEFOVO+FmKlnfd0RZMQay39dPsh86x07MpaPn/rVOVKPjGZ35tyDTVexnGKAbpAKaxYN+5sEe9P1lwGHRX82E3p8n1q5Yh1kf6pZJ55t+QeecR8Y8VgWYYBfqiV2M3NE3jGKxMDK/DZNrD5hps/WKnH/8Tq2XSEEIbwIi0440L8aqz2RP8=
  - secure: c6aRkPf2Uf8VFMhHyG9mHauAoHQ4DUCLCq+tHZJ89diFSofhkr/1rx0uZy1mTtcq5ulGTk3pNbWojeBOIqp6ddp84fLBCfxr/AJJfHVdh+vbQKS7Jd4gBzDVqtGHQNK+jxU3X2f2uG4tA3aMHB4qWV9IJGq/D9K8DdPODXMFk3DQ6xjTJ8xM2MK45vzCdp2eVxLQOXbGJQEB4FZls2V27W57mogIu45rc9Y50j5bMsdz/FxquDe+0zCisLg6AkmtukzpBpX5qeA3Dqf8oL6z1tDXnMVUi+6vqBpV18SdRhwryCUzI8gsNDLxkrvYByybFk3X9DEMQs7UEgrpH6vKgqJ/AjW9Jfxspb32+ycKNxt2mG7UANjX4brKJ2vai25z6wjExnKTCR3Jy2a3TK7jUrpDoff9nhwkQmOzgIblqq11Kl+iKq/pEwbT9FXQM8LCp4lKzzrXo5aJOf0vBIZIo+9aH2IRRo4Vfu1LoIGoRWg7+iC6zzy+YHRNfgOP7pnzK4fASaepdlLc42feXG/tNCqOafGf9a2DlAHu7iUxDi4z2TVS7bSwhmMexqXdUswhqisPpYzKdY8Iubr41T3I8XpvOBL6K11+SH8ePdFz6PQIAOidN5kzTQYw3BuSFPgGCsCAPgFNaUiaK4m0kUf5ne2xpXyWnVoB6WrZ7H2VuNM=
  - secure: cM/9vuY2QQtPPkT7TXgrIIQk5Oi5sEaregASt20Fo9GQOu5UvIL+1hs1wGjQITpXP8CL6mUKs3WnCa63+tpzdYsjCTpjlLQvPI2nJM+4qx+yvJkZnt1HT3gedRUqt5A2voiUq3wiKk0KNx1YIF4RpOcYGaXjybLkXHABHDgMu04Bhi/IzH4nAzOw2p5USrwADDRTkUgZPuhT53WIpIfbg+q9UD7VeAHy+biD9JrXW4Wxch3l6XDZ2Yme7Jf6wd/jj5hd62IeA4SauOw05OAFlfb3oWRDYeq7I89Sxcegwu28TskHHrt8ijPwqc7D0KSz4DjH+4Gk/j0z3wmJFwwYJsoph/jzQJjkOQPXIAczq92odMx32AanqquIP7CLeCcRsQOap6pyOgiY93Ayagkkn3Sp+5U3NuJpU9vLwGkbfgKAmH6g5zgdXhLtLfJ2l3Kxo7aJafQ3fSjWHO9O0uqTLirEWiuji26lNzHzyj4aoSlJyXTfdg1hB/Jw87JsZF+kUuC6Nx97oK5qjLwX3/ibNxSK37mOXraIPV2YadvGMSEIzrhfnBDsOjA48kX25m5ezrrF0fftdnArHh0Y7otYGO/ayEAmDK5wbyMmY959B7MIPlbuZrgsWXVtgrOzcr47OAQB0c0Fj79PmxTFJYDZalvzqiMHrbbj21Vgk4TxWdo=
  - secure: D93XbTeiztswQzkqeAz5Ef/yWCBtnh2D2C+HDFv740F1jtwBEh1jwBCzA8x+4mlFKXy/1gnMgP0OroOVZOd7kxdOzqatWx0siknLCC/TLdVfIIRUU3TlK/x0dZqXYBR2JvdjUNV2uPeyGKTbDvvB9NpHBpVSEIRzoiTMxF1D99XkbyGzSVAj2UQcN9sPJwxwUqLUwCox8ykP9sXyj/RPjsMz8i6hzZICkBIYvb2BxLab0STTV37/2Gl/Dr2ktolgLz5Oo2sc56M8TBFb1Q4tBVgougd7SIXwn1opCqagkm5wYnj3V5oEn1JHXISldh64kq98sv6D7QfcSwZMxIpy7FVdF5wvXexhZugSDPkIUgS4V6Tvw6dPwrZSCsFtcMOOvZZgeaHVywU/tOiifudGAqrk0ldDRgTtoGGMXD3YD8vC1z6FUxj6CPx1XnoviDsb7Wm4OEIV0DHjw/idFMppgOF2te1A3Ps9RT1P4HOZttHJxb36ttqutHYec1+rj621IWmOrMNd5ldtHLev6xCQ9oAUQn4ItwNPHTHin9zzgx9wReEkPrZSXjPAOOS8XDLn4D78VL5oBwRg4/yjgrx1aOFbt12zj8/iIGM6j54Ao7QF/Rz+Kd7h8wXNrdvBKzrhEiFJ9AnliOKwtSUSZaW2jtLU2T6XZgv+WH8R6pwqta4=
jdk:
- oraclejdk8
before_install:

install:
- mvn install -Dgpg.skip=true -P !build-extras -B -V
before_script: 
script: mvn test -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure:
- cat com.github.lafa.logfast/target/surefire-reports/*.txt
- cat com.github.lafa.logfast/core/target/surefire-reports/*.txt
