branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: ZuqrNzvK3+/fY77jZibVwOIzRNrTTWhCnP3lOxB13meLtNLKejor0DzqR+VWvH2yLCLyMzaY8X/WQNn5/KSqclKMTNihhZycVsRYshFnN7iyjfppMh/8cP1BkYezL7BNbQzTefNmfJSLbhAAg30mcn9lMOfZofRu+v6XPQVMtr2X/O07yVvSPn9lrnHMKNi3jCbhJwl82D/0ZhgVtB3X+UhtgPH8TnSKLsboXOF97MCOHe0fzuYRFIqLjdn61VxI1cYKc4aPqE0e3GSy41C+FwsnG/NfeHUf9sxPKNQ6nXLu3jWc3KSfJiLD2srnzppZaeVXk3/2Trk9xSdp2KmmJJhWaLkrwT2HQhEOb4yWWamJpdFqrjuVYXzlABXdpWwlpVfwjauKfm/QQOKeP8XBZIHPzphBNBoir9mXuXTxU+643tX/dWttYCnSHPclz+svu/IeEcN9lvKGmUYV4L0zjxrCxSsWC3ebaJIdiZSenfPh5oUGH9P9O8mzbx8P27McK8wAaFAffsqf4uwz6rhpd5ulaiQQcxNq1wtY3vtnM5gi1oGec4ZBi8ycUep6l3S14O6md2MY2SFqHbV18u6ImEe6wubLmzwaUu8Cd6dmb7GnBksRpzgQV/kBrwL4qdYmTZ1dW1MpsA+DmM5EoZcdkcI81JWkTYCN/EguEbs8ot4=
  - secure: jJyUJFTDrM5vM+/DTMhuq2foxbR2+PTC1URmSSrmabSJsfh0e5xULtJkgZOO1AKUrOTWWidFihN2gtA9B1UeFYKK1iqa80KNBU0dc5DX+IDr1buUanOoU4vZ+1Rs+SOKZIQeuhfba8y8NT2WxvlGTglEV7U8sKbLPGFBb91DTQX32JEgT26Fci0mLbHcoLYQLAEtXHyT1v4+rVAp6LdBn5xjcMlDN8LXTs6r8RdEamxWHXK2l33K6uWokoRFD7QRym7uhhMM8OhDxRr5/ZPov9fEjkiQ95ResE2ytQcm/WOtVbHW3lAkP5nAM/xabP8+8U+97g1y51JxwA/5ca9EYnX1K6GG34hl2BOnZlSiYiboDnRDgwVXYGtt1/O+VwkkxLg4EtJdHH2b5wdDvIMlpDFHav4ClholOu0jC3619igPLSFPiR48Y/nHN+wDcFw4vllI6RIbeD3bJiSGsv6cxUInd1QBECn+1q0qpyADIs5z70SHS2JmmCkiYUvNtBHoEA02txiniEO3K8Pr1Cv276JLCibeHkJRm5H4c3kV5s6Db7+Gxo3CQN5T6zrWtOykCf24xH5/q3wNLk05utVrP9a2uDE95TPGDDh1Yrsjk846ACpuzbkcEjINj7z5VSX6WG9Aee9CmqoVQLefvYSA2H2wx5Qn94LnHLo4zABZg7A=
  - secure: L5qT/ZltROcdUpkEzPiMOyjaJSKIyXLP9sYd/xKzeHp6UEGJtj/xIW1ARWCLD2q9QQjhPzSDXKGAO0GK76b8W6Us9iUVjkyv+2eozt2dITMHErTMExIz6ya5KXj/ZUHKPfPrOkitLXYq+QbfxoQiSdOtVvp4S4A0ietzsMkXo8oz4WzleG7gruPPBJSebhYqgY2btubdOTjKM4MLF88In+WPI40k9nPoCbPjgxF9bD5iAaFQmIPCqAg9qAY7vXikhu/Q4tra5Myj7zb6dpcbCu0NGf0yrU+hGOOO3XCoxOdFfx+CSV9e+S7e1B/7qKDgNVuQ0CAQyV9g4TAfzNRmLh8/QTTYbZ/AEQ8LrNJfN/Y5aw9sVjxN43vNkYhigtVdzOf5Zb+Q16frG/YLXGNF74xpI68P5cqSS4zvaIw8RGXJgiJpDCwjid3GBVVfJRwdBxbdhtgoomrwg1TMi675ZSunRSNNdjOW5eCmIf93IjJFMom8MxCiilCKrth+H4ftJ4f8r4mfHAc583HYA6LcspbGST0qBSrZ/6shpd46rnuxM7GJHdZmLs+NxnTgy2vN6AcLOno2sMs5R/4C6P+QdFesMcEI8+4qsSh9VVbT8Mde1xKsy7UePuZ7hYhCUvkTx90+pdCuJIaDH/B/EzXCIx6NGPUM34mSh/JNyL4O1K8=
  - secure: qIc7QrqKbYCX8aBHAqZTz5eWxbYH3rz3zHmOAZOWM9uwszOdnY0Sb5sg4bRDtnbHFZF8si9JTIUCp7RVEy05ioVTl8dyd+Sz0zTj1lXJuC08J1dpx7F1mysXU8g2lseiDIonfzkdBbbmV//bt4bK6KyiE2v2DF8qno/5i8XNgNE/DHctP1jqTOqT/VIuHeJpLjEaU8gdLPOifcXqZnbhMyUIpg4yVWt/i1cbpP5St+frkGBwerO7SCutQekAayGDJTalbLUAIqnj6drjG2mxG/aql74mzFjrZEoSpnNmY7d2NK86QEKTyaw1y5C0LjPEkx898zmfUwPtZEStcPbuaftiAlJSOlKfKonIVyjs4SIVbe5COE3F+F6FO4s1zQRpt/9yG6/K5oMGWYLkkukRAzigs/Vop0VPKDh+Yk4b2eAeyg178o8xp4snfahB/qs10NFJHHzAqFpVoszECkk22YbVMngdjwtvDT3uwT7yhaOYHv468ejajLTX2Uo+iB/VhRIz2etGVEve9Vbta0Xnpk9PAbnjzdy0p4YB1ttbNPEGw0yfVHuTNwuxHFqgyLaJ6N6OFjZMcvPyBJL0FEbid5diU563ITtDhJ1NB4lZv+b9Cp1oiVxAjZVNOXiBrwio24ZzDassHRbCnyUFMLP/VuUCFxekixtQz6dozTVeAzY=
jdk:
- oraclejdk8
before_install: 
install:
- mvn install -Dgpg.skip=true -P !build-extras -B -V
before_script: 
script: mvn test -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure: 
