language: java
jdk: oraclejdk8
env:
  global:
    # OSSRH_JIRA_USERNAME
    - secure: Oh2L3Pjs5/BQmXWa/lR4b5lnJgOURditlu4y/nLw0l7iGBHXR/EGPaLZADefOf2IRDwOChz4atRjhSzYfvMzXUc0p3hKVEjRLN7IIQ5qnJSUBMlToGhATxggn4XG2BXblrqrBBc0+PavlJqVBh7srwYC2DiTBCujLhDSuLnZ6BZPQypXj+MzcuOz6UFxKjOmxnpe/i8e/WTlfZJ2IxPvM32fUXFg0D2//lirhdmGvOTz5zJokefjUkuLvMK2zamaBXM9ywGVin4HAbdMSgI9T2jMvfxQ4kc8dL3+8ijDYjRKqH85vHk8CTjuAtfJOK0WuV8imnctTZAh0qyFQdQiDb8R8iUX9RzMAti2ZnMCzKLu+l/cN8PNcRfuPOSaoNX4Ce22ue8r8VlQbKsKHcY/oiXrgAfh01Df0r8kMXltUIZNxltdzhMxrwWAkxDVd0ehO3KdZgskGlXg7DdiiawQDmXsHeO7JiYb+03w9Uox2eLCcBdv7TOLbJzR4c0+yLZlxPMcOHP8V7EeSL+jn3AagSAhT9xsJlZX2sZ2Hl/fR3HmAzxFMgtOF/8L/cQMe9XxoSfQpI8hfapcftTZQHN4WXV7sJDgCRaxTbmWdstip5ctZdvc0gVOU2WF3Wv7oP9qq1iYY8oCrskr1upVq+EbUi6wrRBExyOXzXfGcmgiAR8=
    # OSSRH_JIRA_PASSWORD
    - secure: LM4YHBXvJxIV3wrjTeNN1VoeImcrSwu1pkrmInIsxZb48gg9zh6aeY9zV36vWg0SQd0NOjnRJzipjer3X0n2Kzxap9gT5n6T7gIfeB9itjjJeJ3AMgviwS/LTNr2GyPoJsoY/t2UhjSD3h8YhwPdOgXTPmcFI1lMuLAxZX8NB7ge301nBH6OlOBh+Jf1Mz/wz8PbFXiLPfT0E1Ubcjimc9/fd7F2wcKFYTVINo9DHsP3IwZQRW1v35Dpa/ludRJE3/R/qkU+e39fUJpM+xlXSJSc4iHZxdnT95gIi2om4HVbT3Bo8hX7biqMERjLz/uCA8vzpXjN8kKng5hU5dUf4y/eC1cWhi0CCdW+GtC4SHSk5q2eh7HzBaTO7IXxWn/l1QNcK+sovCivNH0swb7GopCZ+h2B+UjgEgDululf7QdbDAmTnuLo92E7aUfOd+tDjZznpQx4ZSAo1HbBS2n16TQt+HMLsm8PenjFEKyZBNPX6a/3odqF+wRAd+KS1xcL6kUGnYF/8fh3hM/qm5RbKmCadtSJufJCgl+2Rh2yudfFOfwJX+EJwbRjgS8F3NtiSRh9eDkv1KAnv4j152Nen525KO59VITZh4mikMrFpqZqMGuYR3mKfG+tKWGuQAU7xgAROPNnIp+zEszlfCw9qS+Vo33zCXhcBmjtmX8TzHw=
    # GPG_KEY_NAME
    - secure: f9C56g40dDojGnsfeq5KGyrFST82Xadi/doPdJYPd45gNnqv2yemv8CG1AQWKtFNp7qEHh0upRdyUGF30psxAuUGR9IhL0/dUe5WINzAQCeQiNQagubJKow0AmCrAUCLlYFwSmzH02EMuwdEGQIB6yIouNf/WKDm9QdmtNUsxA2xbTgxmBs6l+Qh3uoDfeOLKyovrnFYc71ZSG0BBbv2SbMk6L83ZcSLdzlhpQ2h9OyGFa5dbs356SyRZTWk9OqVKpAdBCXK1TTDZh31ONBXVwFgWhKGMC3Tlmbi56RMf3oOi9RAuMuEQIWsEgAemJ74VKpQi2RUz7SxrqwZSteFNtAa7ubRGSDv2goz4D7oj4toZUfWkJAXXL1UwqXFAgVxQ4J+XEwfWBUTTmDcKbk/O3LhJAOXGfOcGiQwYb07tPffth+uUEdPe3F8IUdJ7oXU2zI4Ec422t+AnMEyTIwbS+cXQg3p4BCzsQPmMlK0ZeuDXNNlMYp05Sgn4BMB3fp0YEAsvTddeIVugmU/muO/g2wHBOF2pCosMd1kyXgLPuplBrEWqxuGeCEFy5ToXVwhdWwKgjvqXpqlZkXnyIibdanA5mDAssCUlePtcGyQPyWZuCE5DIhMxYz621J0udWj6BRAS50gXlN64Twjg1U1k2dQ2WRTINdTHkElKtoQvRA=
    # GPG_PASSPHRASE
    - secure: 4x6W2F43qZm22ONv4eXZhzmsLgw/G8pI+YWXRoPHOQ2uAXTaJ01mm3Hz0gRRAuxmhB9RI3U86uuzI8kImE4e+BPNsJHLEigTDyIGp0nBaD6KXU6afL4PlIqq9HYs8wvNaQbkTKGWUq3Dyaji0LFDWXhXxfqwNM0H1936beDqiu+RT3otFClbEDbyA67OQPhy8Xy+C3dv9+19YSg9QDAO66hvf0k5a99NpIGxz7VmcfW0H3UxKk0VfqqBhaLv2/wk6HqBb/aQzUGRwFekcLul6RnaTlMh01IXvR95tA+ChucayXNFsM4FvzuPO2mMeqdMeft0rNzR7HHjhC9kvWE9IGGOl+71T33JhbGXW4ZAzVa2TxECqZvKnXKHQYHW7cEWmzA4JzMkloF0xV+k32Yo6a50A6QYqXrr1wLQaxyVessLgCUM1h++C3BFFa3pFSjYBaakWQKDHLZZRRMB6F2XzDFKr3vLBqyb9NdMvFeD79/LiyI/QPk9zorHNU/pF+0AcvUm5sfG4B1hS/g9SnvbbvUy6o+vETxok/Ao4WtUDEhjnd9SYcxJ0L97KKVuiH6Psyyo42gxr/MIWzkdf3F0AZebf6L+XriLWsis8/qnYxaRinBpLO8Z+omoFLtcS/PCd70Sg8oaa+yBuRjYRj7AeTN4Ae5vL7MDAMomLQx8ugQ=

before_install:
  - mvn build-helper:parse-version versions:set -DnewVersion=\${parsedVersion.majorVersion}.\${parsedVersion.minorVersion}.${TRAVIS_BUILD_NUMBER}-${TRAVIS_COMMIT:0:7}

cache:
  directories:
    - ~/.m2/repository

deploy:
  provider: script
  script: ./deploy/deploy.sh
  skip_cleanup: true
  on:
    branch: master