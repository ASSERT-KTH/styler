language: java
sudo: false
env:
    global:
        #key for github
        - secure: "Aoel/5pJYk6KOnfjA+gkcov9y24GNUIrKanke8X8CilOfwwwTIpOQV6Cc3P7WhW6/Vhlr2XXmJzvJy83qreNK54ubXl3YZUzES6tvYRnCT2H1z55nGBBX7IMJHUVG7+HkQ5qG4mZVFcrQy44KkjgnKmqMkFpO/02u6LaTA9yWw7iYrjXzIVU1kXsfxeeqYHsY3IMP2xyZnHp9ECBUS5hKWrmOy4yXl/WEpl9ECqloO7HRd3sUrWUOvidJHylktCshkUw83n9CSS6Yjmu0Zns/ng7jEq0ZzPJSqG9ZdVDyqU+WHkPF6mw2m7+Mq0ExL7sWXcor/Rv4Sgy2XfuKgnh+KNASShNfwnFKbPzWk0Uc+ZLAFdSAvxqp//VVRwJUKCyLZCKawDIhOqSGsaa0WS/xi9jHnS/5RZJhxU/tqIYCgNm7j37fjG9dzJxMmwKcMNfRA0a+tJTiBOhjdWvsMJk0etTb+8Lg1sx8Z/DDlaZkXqjdd8u1I/cnE5GQhtsK8/mlSwoHJpe3y7hQrF9fjbeV7dQroQvI3s2RU8JUehmxDDVAQ97naX3HjOV9ogOkS/tVaCFj0/A9iNF279Wyu1yd4t9PEwjScSpTy8DjQo6XxXDhM7L/waiCAyxTGHJQHDLajagqI3+royXv3Kipror5cmpgoJ631PFDawK2NHyKOg="
        - environment=test
        #sonatype credentials
        #OSSRH_JIRA_USERNAME
        - secure: "UCsH5IT/wpkoy7lsUbG915TNDlICPQnokzvgCKKHSOy7aSk9k9AWYWfwnDWsFTWnM9jTnsYJm1HxseVwcuNf8d2SRGnDhJ7JsfGMcx3ozrNyC+cQNzapem/LFFW8b6EWoVGf2HBa/xVgntthQkKDrvKfWkddVdZj6JmRzWjYY6MdPsvocdPibFGPjC0MMavaAecH3qR1LHKcfDBt0vGOJrIQyDtmRKTPzco0K3+5ehw5ZQPqdJhQX3cTaaaCZSojv573t/5I+D4FBM87RnqBRaGsZlsDJoWMUlebtR4Ojiqf/T9jGP5W88kS8seOkXrkSxoC9l2F8KMGoQ27MhjKOQEATPtvTKUTwWbXpoPkohzQpwm2eLEQ2Ffr3tpPBnRGb0Rszrh7ZqHY1ZMdstDnUlXomxiGYnOOaurMI+owYue2nzDf8jryoQoL2k/B1aK9uiMEzmsQgAv0ddaetAwDJqPYQrYQmT/4OCTSCTpOPWNTfRGMRxHSba6q5OxdO032LKVpls1xXESlxefb/4NCVVPe9sr/KMYgLrXCxXEMVFyxVmCgFvr5iyjF+HEkCZpIlebTlsAGgmITSohIuft+uV2WOvrtOoMSDfKJw+/ulkoLFEjsJSIGpgt9HqQ5cmEaTyIMD/06ytaQ//q6iTzJfNBL3d+RY4SWP4RPf4M5+9k="
        #OSSRH_JIRA_PASSWORD
        - secure: "mioexv5bAYl7HYhLmtPzRzHVlkIvSmx2qwdqsEeq7vaiL6whruvh6deeJcT0q3QhkFWLsm2MzGe6ZwGuXqVm5CYGU4C4Jjq6fDlK5r6ORD26lFwV3MoLCfaLifBbVaBQYF/Q8RnhM19ULPwmeUzFVMvS6SpzKt6LiwHeB03Cxuoi6RkTLE9VRZP7G9pcwBt6nNBdyOMkpLtcUbJUFYOKl10uZ4kJQApyDxU4J7Uv6HQNGH7u5lDEZKh84q8gAgwIVEYCwVCH/U9SkXRQp/VRwij3od4xYfk/i8+aEY1xzXGoUVTgCZx9Vr3n3GkDq1jehx7o1C+sUe+Ap2TxJvriQHjF55shO5pKPAHef/QFXDess5B8gXVbgYj+O3mNmcwNIwf1Hp8BSf+YAVWyFudaJfznKb00w/KGoIj5ju3UA7qxAtgrYvA13p/Oh9efgkiaohrwcQuWoIX6hN/0iQ83ogc95ODTR+JvLDQtXbToUjPrY9iN/VnkQdRnCSNpDIF/Av0J8ckIihlW6iPC4ngWr04BfAzGc9S0tj1ieJD50PW96cwujAo6JD2K8IcSdl8S2M0/iAVSVTDMgSk8FXIiWBcw2BRGOO02Rog9nGvUaO9WzjDG0nyRJrvRjoFRmHaJUZ+2ZJYlsquqGQt0QJnuJ0I/wkxrt7NOCoY6f/p30Rs="
        #signing key
        #GPG_KEY_NAME
        - secure: "kw5YBNzvUg6ro63gCNueYeOz89fTXWRsJHrjLT3tkAtQceyIK9I6k7QykCM1I0y5DU0hI7+sXoKQSsPH3O9tMmLLLMC6O4g++PeiXLtIMEh0AqeF54ksOz/eyxWD6mpIehhuKyMT+tycqhtOKqvGv9jXBo/r18OFzCOGIRReFBkD2sbZ7Q8+xgjKCm7x5n7sI3v1x6l0GMWkJlDG9vSczPqIN9h1ZLOtH2T/OlqQND3EZ2IXLPfUO6fZU5ZoJP2Qe8zMCIaVM7B9egzizpHWYTqw/Aqp0gcCJgkzVfCEcJVk+Da1Hc/cqS229/EjIZGmcIrdtUX+POLLaeQC+VSNFPuvr6r/gQRJREcZxZTJJAtjpEYg+SnP7V/35Gm7nxuAaiXJgBJqDLrZ8i0CxAP2kgvbmmORw73TsTIeCpq0tM+tKPfS+hRmb44M3v5p96GkqM4OxwVW3OvN922FXwEkGmp9cXwIFiJyATLSg4AFv/mAgyC2ovBNtYI/DneaUTFzJRFOlX27SvpCCrk2sjZiZZalsqaelCzT0rHls49QYfV2YOM/+uFKOj+3km/TV0l+ol2P2DHU0/EpyMlFjMcEFpEtMgnJQzZblOX7FjexaakOxt+6e/N94cue7NHCmp+PJYsYxCUM9co97xF9Z3a7L3Hq8uDLfKeV7WjdI/XVy9s="
        #GPG_PASSPHRASE
        - secure: "CJDeiJiP9DHqBDIuzRU5WrDwpNQ7BXEOimHGiz9fj4grUEKCLwejXzgBNQG0nhAC7Jl8buKm+SPzf40LRIrC9yYP9ASIET2oySfb8zxb5iX9rFKv6pLgKyTtOhsPgVwtMykN5G44SFhZccuCUBqEFiliwxwcRcRLZ4forxpl2uWT7L0VhW8LMofwiBFGNjOPGG2FrhH1Vv9DpEbqbEqeak3WAq8UKU1hiipKqR3w0fOFjxa+hGH2JbwuvQjldLxCR3AAQC49wI+9Q5baqMOpvCBYa46bE6Q7zc9/KZBS7I1aMzjEAMgW4wwCi4aPxdukMw1feOaSsQ2cLF8Zfn4gOO8DcBfHTkyCqlsvK0DrQ0JAnTkd71+8Fc6V+vJKohM9kLEY64MiuMGS+A9A2WzcqIxhZME5DQADgcU7PkvEs3cbmb3HrXZtKaBHMy+Lb67fq+k5zDzjMv7JT7BITxwlhB8IxRDi+tu7FCot642yal4a9EWAtBOTHVnHFPORC4Bln5k0s02GoFcbU5NuPArOoW2JWF6hI6hUHPrKaKqDNnhd14Yq3Xj0XZglASXVOqTXt4/2mhNEioBTRug5LcC4cc6nh4sL05J3X+ZBRJHpWHo9HIvN7Oa+YcaJAO2KRov8b5/CpDVt4TtfFRyLg9sCDxEkshWdMbdguD9/0BSV/64="

#if timeout occurs, add travis_wait as in example below:
#script: travis_wait mvn clean jacoco:prepare-agent install jacoco:report site

#add: -Denvironment=test to activate CI profile to publish into gh-pages
script: mvn clean jacoco:prepare-agent install jacoco:report coveralls:report site -Denvironment=test -P !build-extras

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh
