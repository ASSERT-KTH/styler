language: java
sudo: false
env:
    global:
        #key for github
        - secure: "YhoLiHsBTgacykuxFaLLfdL/56N4ELHpigy4rCoraHRMetoz/XPrp21lHjm2rNb9+cEoHuOLbaK+Rsz218WaYBSaP2Mh1+Wo1UtAanjt6EAWWajfz9bNmVoqrgx2VNIDZyAyCc/kQZCovz9z/RkvJ04/CgajD+p4fVTFIqyNQnBA5b3m3jDwA7UZ9GgkFkfJilUW0ddCsaT9s8kV7oI7kL3AZ+UoZCchAv/JtEfZLXHDhhFpYJ7izB75IsB09DeR8v4D9QytnZAG1H7Anx1rXgiqWOtIH3QYVBvB649QWFsq2Eow3Z4dRr9ejH2dkSVQZTjYT1so9Iu5kpxWNLSZxRckv6iuXtJXVYe46CPq+gaqsZdNzPg4FyIKGoZMxSv87L2LkdG5vrO16D0kGguvjNudH30Pp9W/K2c+yAloJtD/Q1eB+9TUvqYq9G2q33ibwDKxWeDM7y/Wk2x2YojBy0f3S90m8jMpke8RNeleo3nwPqIa6xYmC1OmwKllWP5Z8jrpB+EfHTYzRh4LuGpM12+nr/Ng9jm9Sz+IO5AwKYVsOD/4LjJxUbnal8AimXH1sDq7mcDoo4Zbq3mDjyVpnu7em3WegkG2qRTv20Cd4ZFiU6GybZKxjU0c7gMB3D1i9vGcYytNnfxyqddjuhcL0iq87kuTxBF5QvceuA9q4gs="
        - environment=test
        #sonatype credentials
        #OSSRH_JIRA_USERNAME
        - secure: "3CdqMC+ReXh5j9hrY7i9quED0jMpJTbTfNq7NLNsjAzOTIXXYVnRCDoWOe/d5zB60LXUJdvbL1pw7rDdsdTzdVrRT5WmqywsRDgINZlcuMT0pTYdlYtNrgecJ53NLwPCi0FEuvSYoyDdnzuKtqrWBpImmyAeXypUPEIgekTLKSZdaEvUI924GkzjpuMiRiU0VeyyAjF27fvTymCVtOr3dsTngkGedb1yzmouTRZJMLLYAnq+SV6SU0PtceqUV7egk5AA2uzeV2g/ODpMOAiUYnW78SpTE7Sk4H+YvVKtBVlHQCQpvC4AFcyqzNrMl8BFAc29jD7vbIH9HtSMOhsXEziidOQILrC8kWtIm+z5CT+swGaWntpwdyQ6wkO4Vk0a530iApvMAtLZ2b3UdhPa7FAA3zC/oG+9XeOA1w+uY3jFzFLhiRFtHUuFdIopEA+diI4xDfoe7eC1p38bRWulTO2eGLoMudRdALYzKtUBo70Ssr7gpj2ukZV4tiNyZhBuEa8Fop+DJ78UglXsm/0z8/C801lAtaqrcRNZh+Ak+6PIMJLUFkiN4kJAMdQ8VtjzKiDpCUBZq1g3uVL4UExQ8HpDDhg4srADcbLzlGSiIWI9ae1hbcA21QsV4LKFkbohX5d3f46Vq48I8AbcIwzViR89le+KnJK01L5X+Pc/6Xk="
        #OSSRH_JIRA_PASSWORD
        - secure: "papJ+GbHZTYPrKT6X6DZnbH1Z2F6J3s+NnLPIjj6baL0VnQLjE5G3WHp37tqh0vgotjqRemGsjIi+ZrQru80Uh0jaj0e9POwn8XUsoFXQS+A5+zc4cvo02QCq6420+PaHGuYOcQs42Neg/q9zccob9fPe96T+iCZ2iQm4UxU59QQfYH78lcdIk4vV1xxpSS49NC/XsyHd917+FzNh28Tezbduxzft6k7rIFRJIdWpzVcxaEsPlDd1d2eLgVWnGQntFhfvrIsygbcXhsRxzzCA+F2j/JxXhjstcOFyZgLO294oMais5FkC/JJFnU0Z32PdKIVG/8fGiK+s0q28ER4UkC+Z5f6Wy7kgUCJzNVmkva9IrRmGE3Kf30p7iGprAZ8yxYLwWWXN4GJPFWhga4XVoTa6kysSv8p8RmKk1Tx5Sp5KJuIP7kNMWTae7wHEfCMIS+LaLoVSYkQXFcrGvJZc+hg2LWItVAd3PzdKwVEe4351Dct9n1riLFEAp+d48Cbo+VWYa8BOd/P+KlB3r3ZGc0Pr9Bkpg9OnBR0B7FIz7xXQ74eP380k5RL2MTTPn0DPLusTL7w6/KfV47Qv+0jhfkIDpVvGVPfZ2RtTzcBjqo7ZQwvBAyobhX/GpPdfOOS/BiY6WQOA+Me3vkvFMAbK/19MLFz5GknLtH2dd399MM="
        #signing key
        #GPG_KEY_NAME
        - secure: "zAqSknAwHCTQZC1M3GN7+IcxQSp4XKQ1buUgFqCWfr+ofFXaGn6V4MarXSTh5K2jIdSh5Myx2vFH8JCyhmmtXZ5a7I7QwNG5rqz0CmJmBs4dAjauN4oCC7mWOMhzYsVYlS8NBIE+KQnbrHEDktdsM6BjHXumEUGAkzEh/XrSaAWAPzO0O1G2IaMwEReVPUGVsSwGdATFyLCqI11JoxRplJUWOP6DFso2tEZHc63UcPwbV3OaWD5FghONSuriz5g7DYGpSBW1Xcmaqm7WXgnKgIjO7uFYJS3lPJ8yJbh92fxWO/r19qv58c3qN6ZHQhcILZQnEw5xolYebvaxkAThwbdrQxLXF3+qVQ8RymkaU9loYJ7kZ4oBXh9E6mjKU1+qxWNo8BJyk0e6RnK5jh3k6tIvmMZSQV5vQqFFbG9GNnYtqPWhS9gm3/vnqEBkwUXhxahTyI5ZbVIR9iogHE/UvPMJ/OijPJPhbjscMn1xZydH+S1IilNzXb9vHn0LvyqK3QIr5v+9MTi8EX52sjtyAcPtAPx1k29ZUSHAhWQJLJS7Dl7GDngW+uQmVfnmRR2ePeDvG4kJOYo0HmziEjwmnsNjrUdk0y1JgZEFvsEPdXcQ1y19yeLATF5brNqlCPEyp/6fYlTYz4WcBeTN9i3AmAfGs9bTGWREsalhsO1cec0="
        #GPG_PASSPHRASE
        - secure: "FafRBAyEBmq821hCEBaINbuc89eEjSfWh+khTZok3LQPA6PgNKi6XbkID3QIPi7C7o/4j0iBTEq204w02zVJcXO7DBlheYSTvBA5d3cFhkn0phjd4HJIigo99f6a70HglbumwJ786ve6QX8gz3x2unsX8XaX00D9soLzNmdRL5aAAY8tA1Yl6cD71ffF0Ha025rP8BOrqvqIyTiQx9H3XzhUxTPbjM0ZQl2IO4vYGn3Eely81v7AhoR0lVBSohQoTEa+Dbtfy4Qaqn6Ki4nNwyMpb9e6kr8y3IgLGsY/yLl9XcNvvOupZnE5ME3Ue6TmY0cyVIq215oQ7Gv7QwMkA6Nd+VQzmdmCTGIa5blHii2QIzIfQp3D9AfUd5Cn9oHT/zPZlMw9x485O3asWI22D87sQfseMe9Jbh2YlumEb3MfmhQNTkY8VsiwUqzworQlq8jT4wHSQ4TJ3gPAnBs81e8n/8dVhrOnrHpA0YMNElvcR4rK0o3cWUvC2GwJ3Vv6Tv5105bfEhh9G/xw70l+VdvpKtfuWTxhC/5lCpzv4PjFv2QUD34rU5AwAKGlNUhf5BfqTQUBmkvlVzfI1Dwmo66e5RjorVIf6k6WbBIvrLpOGXxaLswx49Foc+N6FxZzZvD5mH0UKjKoaYlb6buQOKT1Yjo244dgs4XjXDx/PHs="

#if timeout occurs, add travis_wait as in example below:
#script: travis_wait mvn clean jacoco:prepare-agent install jacoco:report site

#add: -Denvironment=test to activate CI profile to publish into gh-pages
script: mvn clean jacoco:prepare-agent install jacoco:report coveralls:report site -Denvironment=test -P !build-extras

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh
